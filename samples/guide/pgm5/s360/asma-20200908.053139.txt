ASMA Ver. 0.2.0                                                                                     08 Sep 2020 05:31:40  Page     1

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                               1 * Copyright (C) 2020 Harold Grovesteen
                                               2 *
                                               3 * This file is part of SATK.
                                               4 *
                                               5 *     SATK is free software: you can redistribute it and/or modify
                                               6 *     it under the terms of the GNU General Public License as published by
                                               7 *     the Free Software Foundation, either version 3 of the License, or
                                               8 *     (at your option) any later version.
                                               9 *
                                              10 *     SATK is distributed in the hope that it will be useful,
                                              11 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
                                              12 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                                              13 *     GNU General Public License for more details.
                                              14 *
                                              15 *     You should have received a copy of the GNU General Public License
                                              16 *     along with SATK.  If not, see <http://www.gnu.org/licenses/>.
                                              17 *
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 05:31:40  Page     2

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                              19 * Program Description:
                                              20 *
                                              21 * PGM5 is a bare-metal 'Hello World' program.  It uses a boot loader and its
                                              22 * services to issue the message.  The program is executed by means of a FBA
                                              23 * DASD boot loader configured for S/360 operation and boot loader services.
                                              24 *
                                              25 * Target Architecture: S/360
                                              26 *
                                              27 * Devices Used:
                                              28 *   00F - Console device (used by this program)
                                              29 *   110 - FBA IPL volume (used by the boot loader)
                                              30 *
                                              31 * Program Register Usage:
                                              32 *
                                              33 *   R0   Base register for access to the ASA.  Required by DSECT usage
                                              34 *   R12  The program base register
                                              35 *   R13  Save area used by calls to Boot Loader Services
                                              36 *   R15  Used by the boot loader to enter the booted program
                                              37 *        Boot Loader Services return code
                                              38 *
                                              39 * Other than R15, upon entry to the booted program, the program should assume
                                              40 * that the other registers' content is unpredictable, namely R0-R14.
                                              41 *
                                              42 * Disabled Wait State PSW's address field values used by the program:
                                              43 *    X'000000' - Successful execution of the program
                                              44 *    X'000008' - Unexpected Restart interruption occurred. Old Restart PSW at
                                              45 *                address X'8'
                                              46 *    X'000018' - Unexpected External interruption occurred.  Old External PSW
                                              47 *                at address X'18'
                                              48 *    X'000020' - Unexpected Supervisor interruption occurred.  Old Supervisor
                                              49 *                PSW at address X'20'
                                              50 *    X'000028' - Unexpected Program interruption occurred. Old Program PSW at
                                              51 *                address X'28'
                                              52 *    X'000030' - Unexpected Machine Check interruption occurred.  Old Machine
                                              53 *                Check PSW at address X'30'
                                              54 *    X'000038' - Unexpected Input/Output interruption occurred.
                                              55 *                Old Input/Output PSW at address X'38'
                                              56 *    X'051004' - Console Device X'00F' or channel not operational
                                              57 *    X'051008' - Console Device X'00F' or channel busy
                                              58 *    X'05100C' - Console Device X'00F' or channel had a problem. See SCSW.
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 05:31:40  Page     3

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                              60 * See all object data and macro generated model statements in the listing
                                              61          PRINT DATA,GEN

                                              63 * Inform the SATK macros of the architecture being targeted.  Inferred from
                                              64 * the ASMA -t command-line argument.
                                              65          ARCHLVL
                                              67+$AL      OPSYN AL
                                              68+$ALR     OPSYN ALR
                                              69+$B       OPSYN B
                                              70+$BC      OPSYN BC
                                              71+$BCTR    OPSYN BCTR
                                              72+$BE      OPSYN BE
                                              73+$BH      OPSYN BH
                                              74+$BL      OPSYN BL
                                              75+$BM      OPSYN BM
                                              76+$BNE     OPSYN BNE
                                              77+$BNH     OPSYN BNH
                                              78+$BNL     OPSYN BNL
                                              79+$BNM     OPSYN BNM
                                              80+$BNO     OPSYN BNO
                                              81+$BNP     OPSYN BNP
                                              82+$BNZ     OPSYN BNZ
                                              83+$BO      OPSYN BO
                                              84+$BP      OPSYN BP
                                              85+$BXLE    OPSYN BXLE
                                              86+$BZ      OPSYN BZ
                                              87+$CH      OPSYN CH
                                              88+$CLR     OPSYN CLR
                                              89+$L       OPSYN L
                                              90+$LH      OPSYN LH
                                              91+$LM      OPSYN LM
                                              92+$LNR     OPSYN LNR
                                              93+$LPSW    OPSYN LPSW
                                              94+$LR      OPSYN LR
                                              95+$LTR     OPSYN LTR
                                              96+$NR      OPSYN NR
                                              97+$SL      OPSYN SL
                                              98+$SLR     OPSYN SLR
                                              99+$SR      OPSYN SR
                                             100+$ST      OPSYN ST
                                             101+$STM     OPSYN STM
                                             102+$X       OPSYN X
                                             103+$BAS     OPSYN BAL
                                             104+$BASR    OPSYN BALR
                                             105+         MNOTE *,'ARCHLVL - ARCHITECTURE LEVEL SET - 1'
        ** [105] MNOTE *,ARCHLVL - ARCHITECTURE LEVEL SET - 1
                                             106 * Ensure interrupt traps are loaded by iplasma.py before program execution
                                             107 * begins.  This macro will create the memory region that will also contain
                                             108 * the IPL PSW.  The region name defaults to ASAREGN.  iplasma.py knows how
                                             109 * to deal with this situation.
                                             110 ASASECT  ASALOAD
                            000000  0001FF   111+ASASECT  START 0,ASAREGN
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 05:31:40  Page     4

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000000  00020000 00000008                    113+         PSW   0,0,2,0,X'008'      64-bit Restart ISR Trap New PSW
000008                      000008  000058   114+         ORG   ASASECT+X'058'
000058  00020000 00000018                    116+         PSW   0,0,2,0,X'018'      64-bit External ISR Trap New PSW
000060  00020000 00000020                    117+         PSW   0,0,2,0,X'020'      64-bit Supervisor Call ISR Trap New PSW
000068  00020000 00000028                    118+         PSW   0,0,2,0,X'028'      64-bit Program ISR Trap New PSW
000070  00020000 00000030                    119+         PSW   0,0,2,0,X'030'      64-bit Machine Check Trap New PSW
000078  00020000 00000038                    120+         PSW   0,0,2,0,X'038'      64-bit Input/Output Trap New PSW
000080                      000080  000200   121+         ORG   ASASECT+512
                                             122          ASAIPL IA=PGMSTART    Define the bare-metal program's IPL PSW
                            000000  0001FF   123+ASASECT  CSECT
000200                      000200  000000   124+         ORG   ASASECT
000000  00000000 00002000                    125+         PSW   0,0,0,0,PGMSTART,24
000008                      000008  000200   126+         ORG   ASASECT+512      Reset CSECT to end of assigned storage area
                            000000  0001FF   127+ASASECT  CSECT


                                             129 *
                                             130 * The Bare-Metal Hello World Program
                                             131 *

                            002000  0020FE   133 PGMSECT  START X'2000',BOOTED5 Start a second region for the program itself
                                             134 * This results in BOOTED5.bin being created in the list directed IPL directory
002000                      000000           135          USING ASA,0      Give me instruction access to the ASA and LOD1 CSECT
002000  18CF                                 136 PGMSTART $LR   12,15           Establish my base register
002002                      002000           137          USING PGMSTART,12     Tell the assembler

                                             139 * Enable the console device for operation
002002  41D0 C080                   002080   140          LA    13,SAVEAREA     Locate my save area (used by both calls)
                                             141          BLSCALL SPB=ENASPB
002006  4110 C0C8                   0020C8   142+         LA    1,ENASPB
00200A  58F0 0270                   000270   143+         L     15,LOD1BLST
00200E  05EF                                 144+         $BASR 14,15
002010  47FF C014                   002014   145          B     *+4(15)   Use branch table to analyze return code...
002014  47F0 C02C                   00202C   146          $B    ENABLED     0 - Console device is successfully enabled
002018  00000004                             147          DC    FL4'4'      4 - Console device is already enabled. Bad! Die.
00201C  47F0 C068                   002068   148          $B    DEVSCSW     8 - Console device is in an error state
002020  47F0 C058                   002058   149          $B    DEVNOAVL   12 - Console device is not available or invalid
002024  00000010                             150          DC    FL4'16'    16 - I/O Table is full.  Die here.
002028  00000014                             151          DC    FL4'20'    20 - Device class does not match existing entry. Die.
                                             152 * We are ignoring any interrupt from a secondary device.  Should not happen.

00202C                                       154 ENABLED  DS    0H    Pass console device IOT entry address to the EXCP service
00202C  D203 C0D4 C0CC      0020D4  0020CC   155          MVC   EXCPORB(4),ENAIOTA

                                             157 * Issue the 'Hello World' message...
                                             158          BLSCALL SPB=EXCPSPB
002032  4110 C0D0                   0020D0   159+         LA    1,EXCPSPB
002036  58F0 0270                   000270   160+         L     15,LOD1BLST
00203A  05EF                                 161+         $BASR 14,15
00203C  47FF C040                   002040   162          B     *+4(15)   Use branch table to analyze return code...
002040  47F0 C054                   002054   163          $B    HURRAY    'Hello World' message successful
002044  00000004                             164          DC    FL4'4'      4 - Physical end-of-file??  Nope!  Die here.
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 05:31:40  Page     5

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

002048  47F0 C068                   002068   165          $B    DEVSCSW     8 - Console device is in an error state
00204C  47F0 C058                   002058   166          $B    DEVNOAVL   12 - Console device is in an error state
002050  00000010                             167          DC    FL4'16'    16 - ORB is invalid.  Die here.

002054  8200 C070                   002070   169 HURRAY   LPSW  DONE      Normal program termination

                                             171 * End the bare-metal program with an error indicated in PSW
002058  9204 C07F                   00207F   172 DEVNOAVL MVI   ENDBAD+7,X'04'
00205C  8200 C078                   002078   173          LPSW  ENDBAD    Code 004 End console device is not available
002060  9208 C07F                   00207F   174 DEVBUSY  MVI   ENDBAD+7,X'08'
002064  8200 C078                   002078   175          LPSW  ENDBAD    Code 008 End because device is busy or not available
002068  920C C07F                   00207F   176 DEVSCSW  MVI   ENDBAD+7,X'0C'
00206C  8200 C078                   002078   177          LPSW  ENDBAD    Code 00C End because SCSW stored in IOT entry

                                             179 * PSW's terminating program execution
                                             180 DONE     DWAITEND              Successful execution of the program
002070  00020000 00000000                    182+DONE     PSW   0,0,2,0,X'000000'
                                             183 ENDBAD   DWAIT PGM=05,CMP=1,CODE=000  Updated with abend code
002078  00020000 00051000                    184+ENDBAD   PSW   0,0,2,0,X'051000'
ASMA Ver. 0.2.0  PGM5 - BOOT LOADER SERVICES STRUCTURES                                             08 Sep 2020 05:31:40  Page     6

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             186 *
                                             187 * I/O related Boot Loader Service Parameter Blocks and Save Area
                                             188 *

                                             190 SAVEAREA SAVEAREA
002080  00000000 00000000                    191+SAVEAREA DC    18F'0'      32-bit register save area
002088  00000000 00000000
002090  00000000 00000000
002098  00000000 00000000
0020A0  00000000 00000000
0020A8  00000000 00000000
0020B0  00000000 00000000
0020B8  00000000 00000000
0020C0  00000000 00000000

                                             193 * ENADEV Service Paramater Block (See BLS.odt or BLS.pdf for details)
0020C8                                       194          DS    0F
0020C8  0003                                 195 ENASPB   DC    Y(ENADEV)    Service ID for ENADEV service (from BLSTABLE)
0020CA  000F                                 196          DC    XL2'000F'    Input/Output - Console device number

                                             198 * ENADEV Service Parameter Block Extension
0020CC                                       199 ENAIOTA  DS    0F           Output - Console device I/O Table entry address
0020CC  70                                   200 ENASPBC  DC    AL1(BLSCON)  Input - Enabling a console device (from BLIOT)
0020CD  000000                               201          DC    XL3'00'



                                             203 * EXCP Service Parameter Block (See BLS.odt or BLS.pdf for details)

0020D0                                       205          DS    0F
0020D0  0004                                 206 EXCPSPB  DC    Y(EXCP)      Service ID for EXCP service (from BLSTABLE)
0020D2  0C                                   207          DC    AL1(SPBEWDC) EXCP controls (from BLSPB)
0020D3  00                                   208          DC    XL1'00'      not used

                                             210 * EXCP Service Parameter Block Extension
                                             211 EXCPORB  BLSORB CCW=CONCCW
0020D4                                       213+EXCPORB  DS    0XL12
0020D4  00000000                             214+         DC    A(0)                         Word 0 - Interruption Parameter
0020D8  00                                   215+         DC    AL1((0)*16+B'0000')          Word 1, bits 0-7
0020D9  00                                   216+         DC    BL1'00000000'                Word 1, bits 8-15
0020DA  FF                                   217+         DC    AL1(255)                     Word 1, bits 16-23
0020DB  00                                   218+         DC    BL1'00000000'                 Word 1, bits 24-31
0020DC  000020E0                             219+         DC    AL4(CONCCW)                  Word 2 - CCW address



                                             221 *
                                             222 * CCW and data used by the program to write the Hello World message
                                             223 *

0020E0  090020E8 00000017                    225 CONCCW   CCW   X'09',MESSAGE,0,MSSGLEN   Write Hello World message with CR
                                             226 *         CCW   X'03',0,0,1                   ..then a NOP.
ASMA Ver. 0.2.0  PGM5 - BOOT LOADER SERVICES STRUCTURES                                             08 Sep 2020 05:31:40  Page     7

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             227 * If the preceding NOP CCW command is enabled, then the CONCCW must set
                                             228 * command chaining in the flag byte, setting the third operand to X'40'

0020E8  C8859393 9640C281                    230 MESSAGE  DC    C'Hello Bare-Metal World!'   Data sent to console device
0020F0  998560D4 85A38193
0020F8  40E69699 93845A
                            000017  000001   231 MSSGLEN  EQU   *-MESSAGE                    Length of Hello World text data



ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page     8

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             234 *
                                             235 * Boot loader service ID's:
                                             236 *

                                             238          BLSTABLE
                            000000  000001   240+NOOP     EQU   0
                            000001  000001   242+IOINIT   EQU   1
                            000002  000001   244+QIOT     EQU   2
                            000003  000001   246+ENADEV   EQU   3
                            000004  000001   248+EXCP     EQU   4
                            000005  000001   250+PNDING   EQU   5



                                             253 *
                                             254 * Service Parameter Block and Extension Usage
                                             255 *

                                             257          BLSPB
                                             258+*
                                             259+* Boot Loader Services Parameter Block
                                             260+*
                                             261+SPB      DSECT
000000  0000                                 262+SPBID    DS    H           Service ID of requested service from caller
000002  0000                                 263+SPBSI    DS    H           Service Information provided by caller
                            000004  000001   264+SPBE     EQU   *           Start of SPB extension used by service

                                             266+* This SPBE field is used by IOINIT, QIOT, ENADEV, and PNDING services
000004  00000000                             267+SPBIOTA  DS    F           I/O Table entry address as service input or output

                                             269+* IOINIT SPBE - SERVICE ID 1
                                             270+*   SPB: DC  Y(IOINIT),H'0'
000008                      000008  000002   271+         ORG   SPBSI
000002  00                                   272+SPBCCWF  DS    X           CCW Format used by boot loader services
                            000001  000001   273+SPBCCW0  EQU   X'01'       CCW Format 0 used
                            000002  000001   274+SPBCCW1  EQU   X'02'       CCW Format 1 used
000003  00                                   275+         DS    X
000004  00000000                             276+         DS    F           Returned address of I/O Table entry

                                             278+* QIOT SPBE -   SERVICE ID 2
                                             279+*   SPB: DC  Y(QIOT),H'0',F'0'
000008                      000008  000004   280+         ORG   SPBE
000004  00000000                             281+         DS    F           Returned address of I/O Table entry

                                             283+* ENADEV SPBE - SERVICE ID 3
                                             284+*   SPB: DC   Y(ENADEV),H'0',AL1(BLSTYP),XL3'000000'
000008                      000008  000004   285+         ORG   SPBE
000004  00                                   286+SPBDCLS  DS    X           Input Device Class (same values as BLSTYP)
000005                      000005  000004   287+         ORG   SPBE  (RC==0 or RC==4)
000004  00000000                             288+         DS    F           Returned address of I/O Table entry
000008                      000008  000004   289+         ORG   SPBE  (RC==8)
000004  00                                   290+         DS    X           Input Device Class (SPBDCLS)
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page     9

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000005  00                                   291+         DS    X           RESERVED
000006  00                                   292+SPBDEVST DS    X           Device status (if available)
000007  00                                   293+SPBCHST  DS    X           Channel status (if available)
000008                      000008  000004   294+         ORG   SPBE  (RC==12, RC==16, or RC==20)
000004  00                                   295+         DS    X           Input Device Class (SPBDCLS)
000005  000000                               296+         DS    XL3         RESERVED


                                             298+* EXCP SPB -    SERVICE ID 4
                                             299+*   SPB: DC   Y(EXCP),H'0'
                                             300+*        BLSORB
000008                      000008  000002   301+         ORG   SPBSI
000002  00                                   302+SPBECTL  DS    X           EXCP input function control mask
                            000080  000001   303+SPBEBY1  EQU   X'80'       Bypass Step 1 processing (start I/O)
                                             304+* SPBEBY2  EQU   X'40'       Bypass Step 2 processing (I/O wait)
                                             305+* SPBEBY3  EQU   X'20'       Bypass Step 3 processing (status analysis)
                            00000C  000001   306+SPBEWTM  EQU   X'0C'       Mask to isolate wait conditions
                                             307+*                          Step 2 wait conditions:
                            00000C  000001   308+SPBEWDC  EQU   12            - Wait for both device and channel end
                            000008  000001   309+SPBEWCO  EQU   8             - Wait for channel end (may also have device end)
                            000004  000001   310+SPBEWDO  EQU   4             - Wait for device end (may also have channel end)
                            000000  000001   311+SPBEWNO  EQU   0             - Do not wait for both device and channel end
                            00000C  000001   312+SPBENRM  EQU   SPBEWDC     Usual controls for most I/O actions
                            000080  000001   313+SPBEATN  EQU   SPBEBY1     Usual controls for ATTN wait

000003  00                                   315+SPBPEND  DS    X           EXCP output pending data condition
                            000001  000001   316+SPBPENDG EQU   X'01'       I/O Table has pending actions for other devices
                            000000  000001   317+SPBPENDN EQU   X'00'       I/O Table has no pending actions

000004  00000000 00000000                    319+SPBEORB  DS    3F          Operational Request Block
00000C  00000000
000010                      000010  000004   320+         ORG   SPBEORB
000004  00000000                             321+SPBEORBT DS    F       +0  Device I/O Table address (Interruption Parameter)
000008  00                                   322+SPBEORBK DS    X       +4  Storage Key field
                            0000F0  000001   323+SPBEORBM EQU   X'F0'       Storage Key mask
                            00000F  000001   324+SPBEORBR EQU   X'0F'       Reserved portion of key field byte
000009  00                                   325+SPBEORB1 DS    X       +5  F flag byte required content
00000A  00                                   326+SPBEORBL DS    X       +6  Logical Path Mask
00000B  00                                   327+SPBEORB2 DS    X       +7  Required content
00000C                                       328+SPBEORBC DS    0XL4    +8  31-bit channel program address
00000C  00                                   329+         DS    X       +8  Ignored for early architectures
00000D  000000                               330+SPBEORBP DS    XL3     +9  24-bit channel program address


                                             332+* PNDGIN SPB -    SERVICE ID 5
                                             333+*   SPB: DC   Y(PNDING),H'0',F'0'
000010                      000010  000004   334+         ORG   SPBE
000004  00000000                             335+         DS    F           Returned IOT entry address of pending device



                                             337 *
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    10

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             338 * Boot Loader I/O Table Entry
                                             339 *

                                             341 BLSIOT   BLSIOT
                                             342+*
                                             343+* Boot Loader I/O Table Entry
                                             344+*
                                             345+BLSIOT   DSECT
000000  0000                                 346+BLSDEV   DS    H        +0 I/O device number

000002  00                                   348+BLSTYP   DS    X        +2 I/O device class and attributes
                            000080  000001   349+BLSPEOF  EQU   B'10000000' 'Detects physical end-of-file' mask
                            000040  000001   350+BLSUNSOL EQU   B'01000000' 'Generates unsolicited status' mask
                            000038  000001   351+BLSSCLS  EQU   B'00111000' Device subclass mask
                                             352+* Note: the device class is positioned in the byte so it can be used for the
                                             353+* channel subsystem SCHIB I/O subclass code field without shifting.
                            0000F8  000001   354+BLSRSV   EQU   B'11111000' Reserved bits mask (zeros)              UE
                                             355+*                        CLASS                                    PEOF ATTN
                                             356+*              B'00000000' 0 - Highest priority available           ?    ?
                            000008  000001   357+BLSFBA   EQU   B'00001000' 1 - Fixed-Block-Architecture DASD device N    N
                            000089  000001   358+BLSCKD   EQU   B'10001001' 1 - Count-Key-Data DASD device           Y    N
                            000090  000001   359+BLSTAPE  EQU   B'10010000' 2 - Sequential tape device               Y    N
                            000098  000001   360+BLSCARD  EQU   B'10011000' 3 - Sequential input card device         Y    N
                            000020  000001   361+BLSPUN   EQU   B'00100000' 4 - Sequential output punch device       N    N
                            000028  000001   362+BLSPR    EQU   B'00101000' 5 - Sequential output printer device     N    N
                            000070  000001   363+BLSCON   EQU   B'01110000' 6 - Operator console device              N    Y
                            000078  000001   364+BLS3270  EQU   B'01111000' 7 - Operator 3270 terminal device        N    Y

000003  00                                   366+BLSTATUS DS    X        +3 Current device status
                            000080  000001   367+BLSBUSY  EQU   B'10000000' Device is busy
                                             368+* Note: When BLSBUSY set, BLSTAT, BLSTATO, BLSTATS and BLSSNSP turned off,
                                             369+* (set to 0).
                            000040  000001   370+BLSTAT   EQU   B'01000000' Status in BLSSW.
                            000020  000001   371+BLSTATO  EQU   B'00100000' Pending action present in BLSACT
                            000002  000001   372+BLSTATS  EQU   B'00000010' Unit and channel status present in BLSUNCH
                            000001  000001   373+BLSSNSP  EQU   B'00000001' Sense data is present in BLSSNS

000004  00000000                             375+BLSHDW   DS    F        +4 Hardware defined device address

000008                                       377+BLSUNCH  DS    0XL2     +8 Accumulated status when bit 1 set to 1 in BLSTATUS
000008  00                                   378+BLSUNIT  DS    X           Unit status
                            000080  000001   379+BLSATTN  EQU   B'10000000' Attention status
                            000001  000001   380+BLSUE    EQU   B'00000001' Unit exception status (physical EOF)
000009  00                                   381+BLSCH    DS    X           Channel status


00000A  00                                   383+BLSSNS   DS    XL1     +10 Sense data present when bit 7 set to 1 in BLSTATUS

00000B  00                                   385+BLSACT   DS    XL1     +11 Pending action when bit 2 set to 1 in BLSTATUS
                            000000  000001   386+BLSRDSN  EQU   X'00'       Device has pending sense data to be read
                            000004  000001   387+BLSREAD  EQU   X'04'       Device has pending data to be read
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    11

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

00000C  00                                   389+BLSERR   DS    XL1     +12 Device status error mask, set by ENADEV

00000D  000000                               391+BLSRSV2  DS    XL3     +13 RESERVED

000010  00000000 00000000                    393+BLSSW    DS    3F      +16 SCSW of the latest interruption
000018  00000000

00001C  00000000                             395+BLSPROG  DS    F       +28 Reserved for booted program usage
                            000020  000001   396+BLSIOEL  EQU   *-BLSIOT    Length of an I/O Table Entry (32 bytes)



                                             398 *
                                             399 * Hardware and software assigned storage areas
                                             400 *

                                             402 * This DSECT allows symbolic access to these assigned locations.  The DSECT
                                             403 * created is named ASA and contains the assigned storage locations and boot
                                             404 * loader LOD1 record definition.
                                             405 ASA      BLSASA
                                             407+ASA      DSECT
                            000000  000001   408+ASBEGIN  EQU   *                   Start of absolute/real assigned storage areas
000000  00000000 00000000                    409+IPLPSW   DC    FD'0'        000 A  Initial Program Load Program Status Word
000008  00000000 00000000                    410+IPLCCW1  DC    FD'0'        008 A  Initial Program Load first Channel Command Word
000010  00000000 00000000                    411+IPLCCW2  DC    FD'0'        010 A  Initial program Load second Channel Command Word
                                             412+* RESTART RELATED PROGRAM STATUS WORDS
000018                      000018  000000   413+         ORG   ASBEGIN
000000  00000000 00000000                    414+RSTNPSW  DC    FD'0'        000 R  Restart New PSW
000008  00000000 00000000                    415+RSTOPSW  DC    FD'0'        008 R  Restart Old PSW
000010  00000000 00000000                    416+UA0      DC    FD'0'        010 R  Unassigned Area 0
                                             417+* INTERRUPTION OLD PROGRAM STATUS WORD SAVE AREAS
000018  00000000 00000000                    418+EXTOPSW  DC    FD'0'        018 R  External Interrupt Old PSW
000020  00000000 00000000                    419+SVCOPSW  DC    FD'0'        020 R  Supervisor Call Old PSW
000028  00000000 00000000                    420+PGMOPSW  DC    FD'0'        028 R  Program Old PSW
000030  00000000 00000000                    421+MCKOPSW  DC    FD'0'        030 R  Machine Check Old PSW
000038  00000000 00000000                    422+IOOPSW   DC    FD'0'        038 R  Input/Output Old PSW
                                             423+* System/360 or System/370 Basic Control Mode INTERRUPTION INFORMATION
000040                      000040  00001A   424+         ORG   EXTOPSW+2
00001A  0000                                 425+BCEXTCOD DC    H'0'         01A R  External Interuption Code
00001C                      00001C  000022   426+         ORG   SVCOPSW+2
000022  0000                                 427+BCSVCCOD DC    H'00'        022 R  Supervisor Call Interruption Code
000024                      000024  00002A   428+         ORG   PGMOPSW+2
00002A  0000                                 429+BCPGMCOD DC    H'0'         02A R  Program Interruption Code
00002C                      00002C  000032   430+         ORG   MCKOPSW+2
000032  0000                                 431+BCMCKCOD DC    H'0'         032 R  Machine Check Interruption Code
000034                      000034  00003A   432+         ORG   IOOPSW+2
00003A  0000                                 433+BCIOCOD  DC    H'0'         03A R  Input/Output Interruption Code (Device CCUU)
00003C                      00003C  000040   434+         ORG   *+4
                                             435+* CHANNEL-BASED INPUT/OUTPUT INTERRUPT RELATED
000040  00000000 00000000                    436+CSW      DC    FD'0'        040 R  Channel Status Word
000048                                       437+CAW      DC    0F'0'        048 R  Channel Address Word
000048  00                                   438+CAWKEY   DC    X'00'        048 R  Channel Storage Key (bits 0-3)
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    12

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                            000008  000001   439+CAWSUSP  EQU   X'08'        048 R  Suspend Control (bit 4)
000049  000000                               440+CAWADDR  DC    AL3(0)       049 R  Channel Command Address
00004C  00000000                             441+UA1      DC    F'0'         04C R  Unassigend Area 1
                                             442+* MISCELANEOUS AREAS
000050  00000000                             443+TIMER    DC    F'0'         050 R  System/360 and System/370 Interval Timer
000054  00000000                             444+TTDES    DC    F'0'         054 R  System/370 Trace-Table-Designation
                                             445+* INTERRUPTION NEW PROGRAM STATUS WORD AREAS
000058  00000000 00000000                    446+EXTNPSW  DC    FD'0'        058 R  External New PSW
000060  00000000 00000000                    447+SVCNPSW  DC    FD'0'        060 R  Supervisor Call New PSW
000068  00000000 00000000                    448+PGMNPSW  DC    FD'0'        068 R  Program New PSW
000070  00000000 00000000                    449+MCKNPSW  DC    FD'0'        070 R  Machine Check New PSW
000078  00000000 00000000                    450+IONPSW   DC    FD'0'        078 R  Input/Output New PSW
                                             451+* System/360 Diagnostic Scanout Area
000080                                       452+SCANOUT  DS    0X           080 A  System/360 Diagnostic Scanout Area
                            000000  000001   453+SCANOUTL EQU   *-SCANOUT           System/360 Diagnostic Scanout Area Length
                                             454+* EXTERNAL INTERRUPTION INFORMATION
000080                      000080  000080   455+         ORG   ASBEGIN+X'80'
000080  00000000                             456+EXTIPARM DC    F'0'         080 R  External-interruption Parameter
000084  0000                                 457+EXTCPUAD DC    H'0'         084 R  External-interruption CPU Address
000086  0000                                 458+EXTICODE DC    H'0'         086 R  External-interruption Code
                                             459+* SUPERVISOR CALL INTERRUPTION INFORMATION
000088                                       460+SVCIID   DC    0F'0'        088 R  Supervisor-Call Interuption Identification
000088  00                                   461+         DC    X'00'        088 R  not-used - zeros stored
000089  00                                   462+SVCIILC  DC    X'00'        089 R  Supervisor-Call instruction length code
                            00000C  000001   463+SVCIILCM EQU   B'00001100'         Supervisor-Call ILC mask, zeros stored in other bits
00008A  0000                                 464+SVCICODE DC    H'0'         08A R  Supervisor-Call Interruption Code
                                             465+* PROGRAM INTERRUPTION INFORMATION
00008C                                       466+PGMIID   DC    0F'0'        08C R  Program-interruption identification
00008C  00                                   467+         DC    X'00'        08C R  not-used - zeros stored
00008D  00                                   468+PGMIILC  DC    X'00'        08D R  Program instruction lengh code
                            00000C  000001   469+PGMIILCM EQU   B'00001100'         Progrtam ILC mask, zeros stored in other bits
00008E  0000                                 470+PGMICODE DC    H'0'         08E R  Program Interruption Code
000090                                       471+PGMDXC   DC    0F'0'        090 R  Data-Exception Code
000090  00000000                             472+PGMTRX   DC    F'0'         090 R  Translation-Exception Identification
000094                                       473+MONCLS   DC    0H'0'        094 R  Monitor-Class Number
000094  00                                   474+         DC    X'00'        094 R  not-used - zeros stored
000095  00                                   475+MONNUMBR DC    X'00'        095 R  Monitor-Class Number stored
000096  00                                   476+PERCODE  DC    X'00'        096 R  Program-Event-Recording Code
                            0000F0  000001   477+PERCODMK EQU   B'11110000'         Program-Event-Recordind Code mask in bits 0-3
000097  00                                   478+         DC    X'00'        097 R  PER Code not used - zeros stored
000098  00000000                             479+PERADDR  DC    F'0'         098 R  PER Address
00009C  00000000                             480+MONCODE  DC    F'0'         09C R  Monitor Event Code in bytes 1-3, zeros in byte 0
0000A0  00                                   481+PGMACCID DC    X'00'        0A0 R  Exception accress identification
0000A1  00                                   482+PERACCID DC    X'00'        0A1 R  PER access identification
0000A2  00                                   483+MPGACCID DC    X'00'        0A2 R  MOVE PAGE Operand access identification
0000A3                                       484+SSARCHMD DC    0X'00'       0A3 A  Store Status Architectural Mode Identification
0000A3  00                                   485+MKARCHMD DC    X'00'        0A3 R  Machine-Check Architectural Mode Identification
0000A4  00000000                             486+UA2      DC    F'0'         0A4 R  Unused area
                                             487+* z/Architecture PROGRAM INTERRUPTION INFORMATION
0000A8  00000000 00000000                    488+ZPGMTRX  DC    FD'0'        0A8 R  Translation Exception information
0000B0  00000000 00000000                    489+ZMONCODE DC    FD'0'        0B0 R  Monitor Code
                                             490+* System/370 CHANNEL INPUT/OUTPUT INFORMATION
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    13

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

0000B8                      0000B8  0000A8   491+         ORG   ASBEGIN+X'A8'
0000A8  00000000                             492+CHANID   DC    F'0'         0A8 R  System/370 STORE CHANNEL ID location
0000AC  00000000                             493+IOELADDR DC    F'0'         0AC R  System/370 I/O Extended Logout Address
0000B0  00000000                             494+LCHANLOG DC    F'0'         0B0 R  System/370 Limited Channel Logout Area
0000B4  00000000                             495+UA3      DC    F'0'         0B4 R  unused by System/370
0000B8  00                                   496+UA4      DC    X'00'        0B8 R  unused by System/370
0000B9  00                                   497+MEASUREB DC    X'00'        0B9 R  System/370 Measurement Byte
0000BA  0000                                 498+IOICODE  DC    H'0'         0BA R  System/370 Input/Output Interruption Device Address
                                             499+* CHANNEL SUBSYSTEM INPUT/OUTPUT INFORMATION
0000BC                      0000BC  0000B8   500+         ORG   ASBEGIN+X'B8'
0000B8  00000000                             501+IOSSID   DC    F'0'         0B8 R  Channel subsystem-identification word
0000BC  00000000                             502+IOIPARM  DC    F'0'         0BC R  Channel subsystem I/O Interruption parameter
0000C0  00000000                             503+IOIID    DC    F'0'         0C0 R  Channel subsystem I/O Interruption Identification
0000C4  00000000                             504+PCFETO   DC    A(0)         0C4 R  ESA/390 PROGRAM CALL FAST Entry Table Origin
0000C8  00000000                             505+STFLDATA DC    F'0'         0C8 R  STORE FACILITY LIST storage area
0000CC  00000000 00000000                    506+UA5      DC    XL8'00'      0CC R  unused area
                                             507+* MACHINE-CHECK INTERRUPTION INFORMATION
0000D4  00000000                             508+MKXSAA   DC    F'0'         0D4 R  Machine-Check Extended Save Area Address
0000D8  00000000 00000000                    509+MKCPUTIM DC    FD'0'        0D8 R  Machine-Check CPU timer save area
0000E0  00000000 00000000                    510+MKCLKCMP DC    FD'0'        0E0 R  Machine-Check clock comparator save area
0000E8  00000000                             511+MKICODE  DC    F'0'         0E8 R  Machine-Check interruption code
0000EC  00000000 00000000                    512+UA6      DC    XL8'00'      0EC R  unused area
0000F4  00000000                             513+MKDMGCOD DC    F'0'         0F4 R  Machine-Check external damage code
0000F8                                       514+ZMKFAILA DC    0FD'0'       0F8 R  Machine-Check failing storage address
0000F8  00000000                             515+MKFAILA  DC    F'0'         0F8 R  Machine-Check failing storage address
0000FC  00000000                             516+MKMODEL  DC    F'0'         0FC R  Machine-Check model dependent information
000100  00000000 00000000                    517+MKLOGOUT DC    4F'0'        100 R  ESA machine-check fixed logout area
000108  00000000 00000000
000110                      000110  000100   518+         ORG   ASBEGIN+X'100'
000100  00000000 00000000                    519+ZEMONCTR DC    AD(0)        100 R  Enhanced-Monitor Counter-Array Origin
000108  00000000                             520+ZEMONSIZ DC    F'0'         108 R  Enhanced-Monitor Counter-Array Size
00010C  00000000                             521+ZEMONCNT DC    F'0'         10C R  Enhanced-Monitor Exception Count
000110  00000000 00000000                    522+ZBRKADDR DC    AD(0)        110 R  Breaking-Event Address
000118  00000000 00000000                    523+UA7      DC    FD'0'        118 R  unused area
000120  00000000 00000000                    524+MKARS    DC    16F'0'       120 R  Machine-Check access register save area
000128  00000000 00000000
000130  00000000 00000000
000138  00000000 00000000
000140  00000000 00000000
000148  00000000 00000000
000150  00000000 00000000
000158  00000000 00000000
000160                      000160  000100   525+         ORG   ASBEGIN+X'100'
000100  00000000 00000000                    526+MCKLOG   DC    24F'0'       100 R  System/370, 370-XA machine-Check fixed logout area.
000108  00000000 00000000
000110  00000000 00000000
000118  00000000 00000000
000120  00000000 00000000
000128  00000000 00000000
000130  00000000 00000000
000138  00000000 00000000
000140  00000000 00000000
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    14

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000148  00000000 00000000
000150  00000000 00000000
000158  00000000 00000000
000160  00000000 00000000                    527+MKFPRS   DC    4D'0'        160 R  Machine-Check floating point register save area
000168  00000000 00000000
000170  00000000 00000000
000178  00000000 00000000
000180  00000000 00000000                    528+NKGRS    DC    16F'0'       180 R  Machine-Check general register save area
000188  00000000 00000000
000190  00000000 00000000
000198  00000000 00000000
0001A0  00000000 00000000
0001A8  00000000 00000000
0001B0  00000000 00000000
0001B8  00000000 00000000
0001C0  00000000 00000000                    529+MKCRS    DC    16F'0'       1C0 R  Machine-Check control register save area
0001C8  00000000 00000000
0001D0  00000000 00000000
0001D8  00000000 00000000
0001E0  00000000 00000000
0001E8  00000000 00000000
0001F0  00000000 00000000
0001F8  00000000 00000000
                                             530+* STORE/STATUS SAVE AREAS
000200                      000200  0000D4   531+         ORG   ASBEGIN+X'D4'
0000D4  00000000                             532+SSXSAA   DC    A(0)         0D4 A  Store Status Extended Save Area Address
0000D8  00000000 00000000                    533+SSCPUTIM DC    FD'0'        0D8 A  CPU Timer save area
0000E0  00000000 00000000                    534+SSCLKCMP DC    FD'0'        0E0 A  Clock-Comparator save area
0000E8                      0000E8  000100   535+         ORG   ASBEGIN+X'100'
000100  00000000 00000000                    536+SSPSW    DC    FD'0'        100 A  Program-Status Word save area
000108  00000000                             537+SSPREFIX DC    F'0'         108 A  Prefix save area
00010C  00000000                             538+SSMODEL  DC    F'0'         10C A  Model-dependent save area
000110                      000110  000120   539+         ORG   ASBEGIN+X'120'
000120  00000000 00000000                    540+SSARS    DC    16F'0'       120 A  Access-register save area
000128  00000000 00000000
000130  00000000 00000000
000138  00000000 00000000
000140  00000000 00000000
000148  00000000 00000000
000150  00000000 00000000
000158  00000000 00000000
000160  00000000 00000000                    541+SSFPRS   DC    4D'0'        160 A  Floating-point register save area
000168  00000000 00000000
000170  00000000 00000000
000178  00000000 00000000
000180  00000000 00000000                    542+SSGRS    DC    16F'0'       180 A  General register save area
000188  00000000 00000000
000190  00000000 00000000
000198  00000000 00000000
0001A0  00000000 00000000
0001A8  00000000 00000000
0001B0  00000000 00000000
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    15

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

0001B8  00000000 00000000
0001C0  00000000 00000000                    543+SSCRS    DC    16F'0'       1C0 A  Control register save area
0001C8  00000000 00000000
0001D0  00000000 00000000
0001D8  00000000 00000000
0001E0  00000000 00000000
0001E8  00000000 00000000
0001F0  00000000 00000000
0001F8  00000000 00000000
                                             544+* z/Architecture OLD PROGRAM STATUS WORDS
000200                      000200  000120   545+         ORG   ASBEGIN+X'120'
000120  00000000 00000000                    546+ZRSTOPSW DC    XL16'00'     120 R  Restart Old PSW
000128  00000000 00000000
000130  00000000 00000000                    547+ZEXTOPSW DC    XL16'00'     130 R  External Old PSW
000138  00000000 00000000
000140  00000000 00000000                    548+ZSVCOPSW DC    XL16'00'     140 R  Supervisor-Call Old PSW
000148  00000000 00000000
000150  00000000 00000000                    549+ZPGMOPSW DC    XL16'00'     150 R  Program Old PSW
000158  00000000 00000000
000160  00000000 00000000                    550+ZMCKOPSW DC    XL16'00'     160 R  Machine-Check Old PSW
000168  00000000 00000000
000170  00000000 00000000                    551+ZIOOPSW  DC    XL16'00'     170 R  Input-Output Old PSW
000178  00000000 00000000
000180  00000000 00000000                    552+UA8      DC    XL32'00'     180 R  z/Architecture unused area
000188  00000000 00000000
000190  00000000 00000000
000198  00000000 00000000
                                             553+* z/Architecture NEW PROGRAM STATUS WORD AREAS
0001A0  00000000 00000000                    554+ZRSTNPSW DC    XL16'00'     1A0 R  Restart New PSW
0001A8  00000000 00000000
0001B0  00000000 00000000                    555+ZEXTNPSW DC    XL16'00'     1B0 R  External New PSW
0001B8  00000000 00000000
0001C0  00000000 00000000                    556+ZSVCNPSW DC    XL16'00'     1C0 R  Supervisor-Call New PSW
0001C8  00000000 00000000
0001D0  00000000 00000000                    557+ZPGMNPSW DC    XL16'00'     1D0 R  Program New PSW
0001D8  00000000 00000000
0001E0  00000000 00000000                    558+ZMCKNPSW DC    XL16'00'     1E0 R  Machine-Check New PSW
0001E8  00000000 00000000
0001F0  00000000 00000000                    559+ZIONPSW  DC    XL16'00'     1F0 R  Input/Output New PSW
0001F8  00000000 00000000
                            0011C0  000001   560+ZSASDISP EQU   X'11C0'   Displacement to save areas defined by ASAZAREA macro
                            000200  000001   561+ASEND    EQU   *                   End of absolute/real assigned storage areas
                            000200  000001   562+ASLENGTH EQU   ASEND-ASBEGIN       Length of absolute/real assigned storage area
                                             563+* LOGICAL ADDRESS USAGE
                            00031B  000001   564+CPUID    EQU   *+X'11B'     31B L  System/370 CPU Identity used during DAS tracing
                                             566+ASA      DSECT
000200                      000200  000200   567+         ORG   ASA+X'200'
000200  00000000 00000000                    568+LODPARMS DS    CL64     Hercules IPL parameters
000208  00000000 00000000
000210  00000000 00000000
000218  00000000 00000000
000220  00000000 00000000
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    16

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000228  00000000 00000000
000230  00000000 00000000
000238  00000000 00000000
                                             569+* Addresses reflect location of LOD1 record when placed in its ASA area
                                             570+* 000240-00028F.  Fields identified with an asterisk (*) indicate that
                                             571+* the boot loader supplies the information during execution.
                            000240  000001   572+LOD1     EQU   *        Start of LOD1 record definition
000240  00000000                             573+LOD1REC  DS    CL4      000240 - Record ID 'LOD1' in EBCDIC

000244  00                                   575+LOD1DTYP DS    XL1      000244 - IPL Device Type related information
                            000001  000001   576+LOD1OBJ  EQU   B'00000001'   Booted program is in an object deck
                            000002  000001   577+LOD1LENF EQU   B'00000010'   Directed record header contains a length field
                            000004  000001   578+LOD1CARD EQU   B'00000100'   IPL device is a card reader
                            000008  000001   579+LOD1TAPE EQU   B'00001000'   IPL device is a tape drive
                            000010  000001   580+LOD1FBA  EQU   B'00010000'   IPL device is a FBA DASD drive
                            000020  000001   581+LOD1CKD  EQU   B'00100000'   IPL device is a CKD DASD drive
                            000040  000001   582+LOD1ECKD EQU   B'01000000'   IPL device is a ECKD DASD drive

000245  00                                   584+LOD1BLFL DS    XL1      000245 - Boot loader flags
                            000080  000001   585+LOD1BLCA EQU   B'10000000'   Change architecture before loading booted program
                            000040  000001   586+LOD1BL64 EQU   B'01000000'   Set 64-bit address mode before entering program
                            000020  000001   587+LOD1BLTR EQU   B'00100000'   Set trap new PSW's before entering program
                            000010  000001   588+LOD1BLF1 EQU   B'00010000'   Use Format-1 CCW's and 31 bit addressing mode

000246  0000                                 590+LOD1MDLN DS    HL2      000246 - Maximum directed record length in bytes

                                             592+* After loading of a booted progrm, these two fields must match.
                                             593+* Note: not used when loading an absolute object deck.
000248  00000000                             594+LOD1BPLN DS    FL4      000248 - Length of booted program content on medium
00024C  00000000                             595+LOD1BPLD DS    FL4    * 00024C - Length of loaded boot program
000250  00000000                             596+LOD1ENTR DS    FL4      000250 - Booted program's entry address

000254  00                                   598+LOD1CPU  DS    XL1    * 000254 - Boot loader's CPU running architecture
                            000000  000001   599+LOD1CPNA EQU   X'00'         CPU architecture not available
                            000001  000001   600+LOD1360  EQU   X'01'         S/360 in BC mode
                            000002  000001   601+LOD1370B EQU   X'02'         S/370 in BC mode
                            000003  000001   602+LOD1370E EQU   X'03'         S/370 in EC mode
                            000004  000001   603+LOD1380  EQU   X'04'         S/380
                            000005  000001   604+LOD1370X EQU   X'05'         370-XA through ESA/390
                            000006  000001   605+LOE1E370 EQU   X'06'         ESA/370
                            000007  000001   606+LOD1E390 EQU   X'07'         ESA/390
                            000008  000001   607+LOD1S390 EQU   X'08'         ESA/390 on dual z/Arthitecture(R) system
                            000009  000001   608+LOD1ESAZ EQU   X'09'         z/Architecture on a dual z/Architecture system
                            00000A  000001   609+LOD1Z    EQU   X'0A'         z/Architecture only system
                            0000FF  000001   610+LOD1CPIN EQU   X'FF'         Invalid CPU operating environment

000255  00                                   612+LOD1IO   DS    XL1    * 000255 - Boot loader's I/O architecture and mode
                            000000  000001   613+LOD1IONA EQU   B'00000000'   I/O architecture and mode not available
                            000010  000001   614+LOD1IACH EQU   B'00010000'   I/O architecture is channel based
                            000020  000001   615+LOD1IACS EQU   B'00100000'   I/O architecture is channel subsystem based
                            0000C0  000001   616+LOD1IAIN EQU   B'11000000'   I/O architecture is invalid
                            000001  000001   617+LOD1IM24 EQU   B'00000001'   I/O architecture uses CCW Format-0 CCW's
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    17

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                            000002  000001   618+LOD1IM31 EQU   B'00000010'   I/O architecture uses CCW Format-0 CCW's
                            000004  000001   619+LOD1IM64 EQU   B'00000100'   I/O architecture uses CCW1's plus IDAW-2's.
                            000008  000001   620+LOD1IMIN EQU   B'00001000'   I/O architecture mode is invalid
                            0000C8  000001   621+LOD1IOIN EQU   LOD1IAIN+LOD1IMIN  I/O architecture or mode invalid
                            000011  000001   622+LOD1I370 EQU   LOD1IACH+LOD1IM24  S/360 and S/370 I/O
                            000022  000001   623+LOD1IESA EQU   LOD1IACS+LOD1IM31  370-XA through ESA/390 I/O
                            000024  000001   624+LOD1IZ   EQU   LOD1IACS+LOD1IM64  z/Architecture I/O

000256  00                                   626+LOD1BLAM DS    XL1    * 000256 - Boot loader's addressing mode when booted
                                             627+*                                program is entered
                            000000  000001   628+LOD1AMAN EQU   X'00'         Addressing mode not available
                            000001  000001   629+LOD1AM24 EQU   X'01'         Addressing mode is 24-bits
                            000002  000001   630+LOD1AM31 EQU   X'02'         Addressing mode is 31-bits
                            000003  000001   631+LOD1AM64 EQU   X'03'         Addressing mode is 64-bits
                            0000FF  000001   632+LOD1AMIN EQU   X'FF'         Addressing mode is invalid

000257  00                                   634+LOD1BLSV DS    XL1    * 000257 - Boot loader's services
                            000000  000001   635+LOD1BLSN EQU   X'00'         Boot loader services are unavailable
                                             636+* Meaning of these bits are defined by the boot loader. Not zero implies
                                             637+* services are available and LOD1BLST is valid.  When zero, LOD1BLST is
                                             638+* not available.

000258  00000000                             640+LOD1FSEC DS    FL4      000258 - Directed record FBA DASD starting sector
00025C  0000                                 641+LOD1CCYL DS    HL2      00025C - Directed record CKD DASD starting cylinder
00025E  0000                                 642+LOD1CTRK DS    HL2      00025E - Directed record CKD DASD starting track
000260  00                                   643+LOD1CREC DS    XL1      000260 - Directed record CKD DASD starting rec
000261  00                                   644+LOD1CRTK DS    XL1      000261 - Number of directed records per track
000262  0000                                 645+LOD1CMCY DS    HL2      000262 - Maximum CKD DASD cylinder number
000264  0000                                 646+LOD1CMTR DS    HL2      000264 - Maximum CKD DASD track number
000266  0000                                 647+LOD1DEVN DS    HL2    * 000266 - Device Number of IPL device from CS
000268  00000000                             648+LOC1DEVI DS    FL4    * 000268 - I/O command device ID (CUU / subchannel num)
00026C  00000000                             649+LOD1IOA  DS    AL4(0)   00026C - Boot loader I/O area starting address
000270  00000000                             650+LOD1BLST DS    AL4(0) * 000270 - Boot loader services address.
000274  00                                   651+LOD1ARCH DS    XL1    * 000274 - Running architecture level at boot loader entry
000275  000000                               652+LOD1RSV2 DS    XL3      000275 - RESERVED NOT IN USE
000278  00000000                             653+LOD1RTN  DS    A(0)   * 000278 - Address returning to service caller

00027C  00000000 00000000                    655+LOD1RSRV DS    5FL4     00027C - RESERVED NOT IN USE
000284  00000000 00000000
00028C  00000000
                            000050  000001   656+LOD1LEN  EQU   *-LOD1   Length of LOD1 record
                                             657          END
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    18

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

ASA                 4    000000     656   407  567  135
ASAREGN             2    000000     512   111
ASASECT             J    000000     512   111  114  121  124  126
ASBEGIN             U    000000       1   408  413  455  491  500  518  525  531  535  539  545  562
ASEND               U    000200       1   561  562
ASLENGTH            U    000200       1   562
BCEXTCOD            H    00001A       2   425
BCIOCOD             H    00003A       2   433
BCMCKCOD            H    000032       2   431
BCPGMCOD            H    00002A       2   429
BCSVCCOD            H    000022       2   427
BLS3270             U    000078       1   364
BLSACT              X    00000B       1   385
BLSATTN             U    000080       1   379
BLSBUSY             U    000080       1   367
BLSCARD             U    000098       1   360
BLSCH               X    000009       1   381
BLSCKD              U    000089       1   358
BLSCON              U    000070       1   363  200
BLSDEV              H    000000       2   346
BLSERR              X    00000C       1   389
BLSFBA              U    000008       1   357
BLSHDW              F    000004       4   375
BLSIOEL             U    000020       1   396
BLSIOT              4    000000      32   345  396
BLSPEOF             U    000080       1   349
BLSPR               U    000028       1   362
BLSPROG             F    00001C       4   395
BLSPUN              U    000020       1   361
BLSRDSN             U    000000       1   386
BLSREAD             U    000004       1   387
BLSRSV              U    0000F8       1   354
BLSRSV2             X    00000D       3   391
BLSSCLS             U    000038       1   351
BLSSNS              X    00000A       1   383
BLSSNSP             U    000001       1   373
BLSSW               F    000010       4   393
BLSTAPE             U    000090       1   359
BLSTAT              U    000040       1   370
BLSTATO             U    000020       1   371
BLSTATS             U    000002       1   372
BLSTATUS            X    000003       1   366
BLSTYP              X    000002       1   348
BLSUE               U    000001       1   380
BLSUNCH             X    000008       2   377
BLSUNIT             X    000008       1   378
BLSUNSOL            U    000040       1   350
BOOTED5             2    002000     255   133
CAW                 F    000048       4   437
CAWADDR             R    000049       3   440
CAWKEY              X    000048       1   438
CAWSUSP             U    000008       1   439
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    19

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

CHANID              F    0000A8       4   492
CONCCW              W    0020E0       8   225  219
CPUID               U    00031B       1   564
CSW                 F    000040       8   436
DEVBUSY             I    002060       4   174
DEVNOAVL            I    002058       4   172  149  166
DEVSCSW             I    002068       4   176  148  165
DONE                3    002070       8   182  169
ENABLED             H    00202C       2   154  146
ENADEV              U    000003       1   246  195
ENAIOTA             F    0020CC       4   199  155
ENASPB              Y    0020C8       2   195  142
ENASPBC             R    0020CC       1   200
ENDBAD              3    002078       8   184  172  173  174  175  176  177
EXCP                U    000004       1   248  206
EXCPORB             X    0020D4      12   213  155
EXCPSPB             Y    0020D0       2   206  159
EXTCPUAD            H    000084       2   457
EXTICODE            H    000086       2   458
EXTIPARM            F    000080       4   456
EXTNPSW             F    000058       8   446
EXTOPSW             F    000018       8   418  424
HURRAY              I    002054       4   169  163
IMAGE               1    000000     767     0
IOELADDR            F    0000AC       4   493
IOICODE             H    0000BA       2   498
IOIID               F    0000C0       4   503
IOINIT              U    000001       1   242
IOIPARM             F    0000BC       4   502
IONPSW              F    000078       8   450
IOOPSW              F    000038       8   422  432
IOSSID              F    0000B8       4   501
IPLCCW1             F    000008       8   410
IPLCCW2             F    000010       8   411
IPLPSW              F    000000       8   409
LCHANLOG            F    0000B0       4   494
LOC1DEVI            U    000268       4   648
LOD1                U    000240       1   572  656
LOD1360             U    000001       1   600
LOD1370B            U    000002       1   601
LOD1370E            U    000003       1   602
LOD1370X            U    000005       1   604
LOD1380             U    000004       1   603
LOD1AM24            U    000001       1   629
LOD1AM31            U    000002       1   630
LOD1AM64            U    000003       1   631
LOD1AMAN            U    000000       1   628
LOD1AMIN            U    0000FF       1   632
LOD1ARCH            X    000274       1   651
LOD1BL64            U    000040       1   586
LOD1BLAM            X    000256       1   626
LOD1BLCA            U    000080       1   585
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    20

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

LOD1BLF1            U    000010       1   588
LOD1BLFL            X    000245       1   584
LOD1BLSN            U    000000       1   635
LOD1BLST            R    000270       4   650  143  160
LOD1BLSV            X    000257       1   634
LOD1BLTR            U    000020       1   587
LOD1BPLD            U    00024C       4   595
LOD1BPLN            U    000248       4   594
LOD1CARD            U    000004       1   578
LOD1CCYL            U    00025C       2   641
LOD1CKD             U    000020       1   581
LOD1CMCY            U    000262       2   645
LOD1CMTR            U    000264       2   646
LOD1CPIN            U    0000FF       1   610
LOD1CPNA            U    000000       1   599
LOD1CPU             X    000254       1   598
LOD1CREC            X    000260       1   643
LOD1CRTK            X    000261       1   644
LOD1CTRK            U    00025E       2   642
LOD1DEVN            U    000266       2   647
LOD1DTYP            X    000244       1   575
LOD1E390            U    000007       1   606
LOD1ECKD            U    000040       1   582
LOD1ENTR            U    000250       4   596
LOD1ESAZ            U    000009       1   608
LOD1FBA             U    000010       1   580
LOD1FSEC            U    000258       4   640
LOD1I370            U    000011       1   622
LOD1IACH            U    000010       1   614  622
LOD1IACS            U    000020       1   615  623  624
LOD1IAIN            U    0000C0       1   616  621
LOD1IESA            U    000022       1   623
LOD1IM24            U    000001       1   617  622
LOD1IM31            U    000002       1   618  623
LOD1IM64            U    000004       1   619  624
LOD1IMIN            U    000008       1   620  621
LOD1IO              X    000255       1   612
LOD1IOA             R    00026C       4   649
LOD1IOIN            U    0000C8       1   621
LOD1IONA            U    000000       1   613
LOD1IZ              U    000024       1   624
LOD1LEN             U    000050       1   656
LOD1LENF            U    000002       1   577
LOD1MDLN            U    000246       2   590
LOD1OBJ             U    000001       1   576
LOD1REC             C    000240       4   573
LOD1RSRV            U    00027C       4   655
LOD1RSV2            X    000275       3   652
LOD1RTN             A    000278       4   653
LOD1S390            U    000008       1   607
LOD1TAPE            U    000008       1   579
LOD1Z               U    00000A       1   609
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    21

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

LODPARMS            C    000200      64   568
LOE1E370            U    000006       1   605
MCKLOG              F    000100       4   526
MCKNPSW             F    000070       8   449
MCKOPSW             F    000030       8   421  430
MEASUREB            X    0000B9       1   497
MESSAGE             C    0020E8      23   230  231  225
MKARCHMD            X    0000A3       1   485
MKARS               F    000120       4   524
MKCLKCMP            F    0000E0       8   510
MKCPUTIM            F    0000D8       8   509
MKCRS               F    0001C0       4   529
MKDMGCOD            F    0000F4       4   513
MKFAILA             F    0000F8       4   515
MKFPRS              D    000160       8   527
MKICODE             F    0000E8       4   511
MKLOGOUT            F    000100       4   517
MKMODEL             F    0000FC       4   516
MKXSAA              F    0000D4       4   508
MONCLS              H    000094       2   473
MONCODE             F    00009C       4   480
MONNUMBR            X    000095       1   475
MPGACCID            X    0000A2       1   483
MSSGLEN             U    000017       1   231  225
NKGRS               F    000180       4   528
NOOP                U    000000       1   240
PCFETO              A    0000C4       4   504
PERACCID            X    0000A1       1   482
PERADDR             F    000098       4   479
PERCODE             X    000096       1   476
PERCODMK            U    0000F0       1   477
PGMACCID            X    0000A0       1   481
PGMDXC              F    000090       4   471
PGMICODE            H    00008E       2   470
PGMIID              F    00008C       4   466
PGMIILC             X    00008D       1   468
PGMIILCM            U    00000C       1   469
PGMNPSW             F    000068       8   448
PGMOPSW             F    000028       8   420  428
PGMSECT             J    002000     255   133
PGMSTART            I    002000       2   136  125  137
PGMTRX              F    000090       4   472
PNDING              U    000005       1   250
QIOT                U    000002       1   244
RSTNPSW             F    000000       8   414
RSTOPSW             F    000008       8   415
SAVEAREA            F    002080       4   191  140
SCANOUT             X    000080       1   452  453
SCANOUTL            U    000000       1   453
SPB                 4    000000      16   261
SPBCCW0             U    000001       1   273
SPBCCW1             U    000002       1   274
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    22

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

SPBCCWF             X    000002       1   272
SPBCHST             X    000007       1   293
SPBDCLS             X    000004       1   286
SPBDEVST            X    000006       1   292
SPBE                U    000004       1   264  280  285  287  289  294  334
SPBEATN             U    000080       1   313
SPBEBY1             U    000080       1   303  313
SPBECTL             X    000002       1   302
SPBENRM             U    00000C       1   312
SPBEORB             F    000004       4   319  320
SPBEORB1            X    000009       1   325
SPBEORB2            X    00000B       1   327
SPBEORBC            X    00000C       4   328
SPBEORBK            X    000008       1   322
SPBEORBL            X    00000A       1   326
SPBEORBM            U    0000F0       1   323
SPBEORBP            X    00000D       3   330
SPBEORBR            U    00000F       1   324
SPBEORBT            F    000004       4   321
SPBEWCO             U    000008       1   309
SPBEWDC             U    00000C       1   308  312  207
SPBEWDO             U    000004       1   310
SPBEWNO             U    000000       1   311
SPBEWTM             U    00000C       1   306
SPBID               H    000000       2   262
SPBIOTA             F    000004       4   267
SPBPEND             X    000003       1   315
SPBPENDG            U    000001       1   316
SPBPENDN            U    000000       1   317
SPBSI               H    000002       2   263  271  301
SSARCHMD            X    0000A3       1   484
SSARS               F    000120       4   540
SSCLKCMP            F    0000E0       8   534
SSCPUTIM            F    0000D8       8   533
SSCRS               F    0001C0       4   543
SSFPRS              D    000160       8   541
SSGRS               F    000180       4   542
SSMODEL             F    00010C       4   538
SSPREFIX            F    000108       4   537
SSPSW               F    000100       8   536
SSXSAA              A    0000D4       4   532
STFLDATA            F    0000C8       4   505
SVCICODE            H    00008A       2   464
SVCIID              F    000088       4   460
SVCIILC             X    000089       1   462
SVCIILCM            U    00000C       1   463
SVCNPSW             F    000060       8   447
SVCOPSW             F    000020       8   419  426
TIMER               F    000050       4   443
TTDES               F    000054       4   444
UA0                 F    000010       8   416
UA1                 F    00004C       4   441
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    23

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

UA2                 F    0000A4       4   486
UA3                 F    0000B4       4   495
UA4                 X    0000B8       1   496
UA5                 X    0000CC       8   506
UA6                 X    0000EC       8   512
UA7                 F    000118       8   523
UA8                 X    000180      32   552
ZBRKADDR            A    000110       8   522
ZEMONCNT            F    00010C       4   521
ZEMONCTR            A    000100       8   519
ZEMONSIZ            F    000108       4   520
ZEXTNPSW            X    0001B0      16   555
ZEXTOPSW            X    000130      16   547
ZIONPSW             X    0001F0      16   559
ZIOOPSW             X    000170      16   551
ZMCKNPSW            X    0001E0      16   558
ZMCKOPSW            X    000160      16   550
ZMKFAILA            F    0000F8       8   514
ZMONCODE            F    0000B0       8   489
ZPGMNPSW            X    0001D0      16   557
ZPGMOPSW            X    000150      16   549
ZPGMTRX             F    0000A8       8   488
ZRSTNPSW            X    0001A0      16   554
ZRSTOPSW            X    000120      16   546
ZSASDISP            U    0011C0       1   560
ZSVCNPSW            X    0001C0      16   556
ZSVCOPSW            X    000140      16   548
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    24

 MACRO     DEFN  REFERENCES

ARCHIND      66
ARCHLVL      65
ASAIPL      122
ASALOAD     110
ASAREA      406
BLSASA      405
BLSCALL     141   158
BLSIOT      341
BLSORB      211
BLSPB       257
BLSTABLE    238
DWAIT       181   183
DWAITEND    180
LOD1        565
ORB         212
SAVEAREA    190
SERVEND     251
SERVID      239   241   243   245   247   249
TRAP64      112   115
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    25

   DESC     SYMBOL  SIZE    POS       ADDR

Entry: 0

Image      IMAGE     767  000-2FE  0000-02FE
  Region   ASAREGN   512  000-1FF  0000-01FF
    CSECT  ASASECT   512  000-1FF  0000-01FF
  Region   BOOTED5   255  200-2FE  2000-20FE
    CSECT  PGMSECT   255  200-2FE  2000-20FE


 ADDR    POS                                OBJECT CONTENT                                         CHARACTER CONTENT


Region: ASAREGN

000000   000   00000000 00002000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000020   020   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000040   040   00000000 00000000 00000000 00000000  00000000 00000000 00020000 00000018   |................ ................|
000060   060   00020000 00000020 00020000 00000028  00020000 00000030 00020000 00000038   |................ ................|
000080   080   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0000A0   0A0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0000C0   0C0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0000E0   0E0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000100   100   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000120   120   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000140   140   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000160   160   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000180   180   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0001A0   1A0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0001C0   1C0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0001E0   1E0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|

Region: BOOTED5

002000   200   18CF41D0 C0804110 C0C858F0 027005EF  47FFC014 47F0C02C 00000004 47F0C068   |.........H.0.... .....0.......0..|
002020   220   47F0C058 00000010 00000014 D203C0D4  C0CC4110 C0D058F0 027005EF 47FFC040   |.0..........K..M .......0....... |
002040   240   47F0C054 00000004 47F0C068 47F0C058  00000010 8200C070 9204C07F 8200C078   |.0.......0...0.. ....b...k.."b...|
002060   260   9208C07F 8200C078 920CC07F 8200C078  00020000 00000000 00020000 00051000   |k.."b...k.."b... ................|
002080   280   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0020A0   2A0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0020C0   2C0   00000000 00000000 0003000F 70000000  00040C00 00000000 0000FF00 000020E0   |................ ................|
0020E0   2E0   090020E8 00000017 C8859393 9640C281  998560D4 85A38193 40E69699 93845A     |...Y....Hello Ba re-Metal World! |
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 05:31:40  Page    26

   STMT                           FILE NAME

1     /home/harold/SATKREPO/SATK/samples/guide/pgm5/s360/pgm5.asm


** NO ERRORS FOUND **

[105] MNOTE *,ARCHLVL - ARCHITECTURE LEVEL SET - 1
