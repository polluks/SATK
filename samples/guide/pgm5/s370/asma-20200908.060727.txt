ASMA Ver. 0.2.0                                                                                     08 Sep 2020 06:07:27  Page     1

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                               1 * Copyright (C) 2020 Harold Grovesteen
                                               2 *
                                               3 * This file is part of SATK.
                                               4 *
                                               5 *     SATK is free software: you can redistribute it and/or modify
                                               6 *     it under the terms of the GNU General Public License as published by
                                               7 *     the Free Software Foundation, either version 3 of the License, or
                                               8 *     (at your option) any later version.
                                               9 *
                                              10 *     SATK is distributed in the hope that it will be useful,
                                              11 *     but WITHOUT ANY WARRANTY; without even the implied warranty of
                                              12 *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                                              13 *     GNU General Public License for more details.
                                              14 *
                                              15 *     You should have received a copy of the GNU General Public License
                                              16 *     along with SATK.  If not, see <http://www.gnu.org/licenses/>.
                                              17 *
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 06:07:27  Page     2

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                              19 * Program Description:
                                              20 *
                                              21 * PGM4390 is a bare-metal 'Hello World' program.  It uses boot loader
                                              22 * services to issue the message.  The program is executed by means of FBA DASD
                                              23 * boot loader configured for S/370 operation.
                                              24 *
                                              25 * Target Architecture: S/370
                                              26 *
                                              27 * Devices Used:
                                              28 *   00F - Console device (by this program)
                                              29 *   110 - FBA IPL volume (by the boot loader)
                                              30 *
                                              31 * Program Register Usage:
                                              32 *
                                              33 *   R0   Base register for access to the ASA.  Required by DSECT usage
                                              34 *   R12  The program base register
                                              35 *   R13  Save area used by calls to Boot Loader Services
                                              36 *   R15  Used by the boot loader to enter the booted program
                                              37 *        Boot Loader Services return code
                                              38 *
                                              39 * Disabled Wait State PSW's address field values used by the program:
                                              40 *    X'000000' - Successful execution of the program
                                              41 *    X'000008' - Unexpected Restart interruption occurred. Old Restart PSW at
                                              42 *                address X'8'
                                              43 *    X'000018' - Unexpected External interruption occurred.  Old External PSW at
                                              44 *                address X'18'
                                              45 *    X'000020' - Unexpected Supervisor interruption occurred.  Old Supervisor
                                              46 *                PSW at address X'20'
                                              47 *    X'000028' - Unexpected Program interruption occurred. Old Program PSW at
                                              48 *                address X'28'
                                              49 *    X'000030' - Unexpected Machine Check interruption occurred.  Old Machine
                                              50 *                Check PSW at address X'30'
                                              51 *    X'000038' - Unexpected Input/Output interruption occurred.  Old Input/Output
                                              52 *                PSW at address X'38'
                                              53 *    X'041004' - Console Device X'00F' or channel not operational
                                              54 *    X'041008' - Console Device X'00F' or channel busy
                                              55 *    X'04100C' - Console Device X'00F' or channel had a problem. See CSW.
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 06:07:27  Page     3

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                              57 * See all object data and macro generated model statements in the listing
                                              58          PRINT DATA,GEN

                                              60 * Inform the SATK macros of the architecture being targeted.  Inferred from
                                              61 * the ASMA -t command-line argument.
                                              62          ARCHLVL
                                              64+$AL      OPSYN AL
                                              65+$ALR     OPSYN ALR
                                              66+$B       OPSYN B
                                              67+$BAS     OPSYN BAS
                                              68+$BASR    OPSYN BASR
                                              69+$BC      OPSYN BC
                                              70+$BCTR    OPSYN BCTR
                                              71+$BE      OPSYN BE
                                              72+$BH      OPSYN BH
                                              73+$BL      OPSYN BL
                                              74+$BM      OPSYN BM
                                              75+$BNE     OPSYN BNE
                                              76+$BNH     OPSYN BNH
                                              77+$BNL     OPSYN BNL
                                              78+$BNM     OPSYN BNM
                                              79+$BNO     OPSYN BNO
                                              80+$BNP     OPSYN BNP
                                              81+$BNZ     OPSYN BNZ
                                              82+$BO      OPSYN BO
                                              83+$BP      OPSYN BP
                                              84+$BXLE    OPSYN BXLE
                                              85+$BZ      OPSYN BZ
                                              86+$CH      OPSYN CH
                                              87+$CLR     OPSYN CLR
                                              88+$L       OPSYN L
                                              89+$LH      OPSYN LH
                                              90+$LM      OPSYN LM
                                              91+$LNR     OPSYN LNR
                                              92+$LPSW    OPSYN LPSW
                                              93+$LR      OPSYN LR
                                              94+$LTR     OPSYN LTR
                                              95+$NR      OPSYN NR
                                              96+$SL      OPSYN SL
                                              97+$SLR     OPSYN SLR
                                              98+$SR      OPSYN SR
                                              99+$ST      OPSYN ST
                                             100+$STM     OPSYN STM
                                             101+$X       OPSYN X
                                             102+         MNOTE *,'ARCHLVL - ARCHITECTURE LEVEL SET - 3'
        ** [102] MNOTE *,ARCHLVL - ARCHITECTURE LEVEL SET - 3
                                             103 * Ensure interrupt traps are loaded by iplasma.py before program execution
                                             104 * begins.  This macro will create the memory region that will also contain
                                             105 * the IPL PSW.  The region name defaults to ASAREGN.  iplasma.py knows how
                                             106 * to deal with this situation.
                                             107 ASASECT  ASALOAD
                            000000  0001FF   108+ASASECT  START 0,ASAREGN
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 06:07:27  Page     4

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000000  000A0000 00000008                    110+         PSW   0,0,2,0,X'008'      64-bit Restart ISR Trap New PSW
000008                      000008  000058   111+         ORG   ASASECT+X'058'
000058  000A0000 00000018                    113+         PSW   0,0,2,0,X'018'      64-bit External ISR Trap New PSW
000060  000A0000 00000020                    114+         PSW   0,0,2,0,X'020'      64-bit Supervisor Call ISR Trap New PSW
000068  000A0000 00000028                    115+         PSW   0,0,2,0,X'028'      64-bit Program ISR Trap New PSW
000070  000A0000 00000030                    116+         PSW   0,0,2,0,X'030'      64-bit Machine Check Trap New PSW
000078  000A0000 00000038                    117+         PSW   0,0,2,0,X'038'      64-bit Input/Output Trap New PSW
000080                      000080  000200   118+         ORG   ASASECT+512
                                             119          ASAIPL IA=PGMSTART    Define the bare-metal program's IPL PSW
                            000000  0001FF   120+ASASECT  CSECT
000200                      000200  000000   121+         ORG   ASASECT
000000  00080000 00002000                    122+         PSW   0,0,0,0,PGMSTART,24
000008                      000008  000200   123+         ORG   ASASECT+512      Reset CSECT to end of assigned storage area
                            000000  0001FF   124+ASASECT  CSECT


                                             126 *
                                             127 * The Bare-Metal Hello World Program
                                             128 *

                            002000  0020FE   130 PGMSECT  START X'2000',BOOTED5 Start a second region for the program itself
                                             131 * This results in BOOTED5.bin being created in the list directed IPL directory
002000                      000000           132          USING ASA,0      Give me instruction access to the ASA and LOD1 CSECT
002000  18CF                                 133 PGMSTART $LR   12,15           Establish my base register
002002                      002000           134          USING PGMSTART,12     Tell the assembler

                                             136 * Enable the console device for operation
002002  41D0 C080                   002080   137          LA    13,SAVEAREA     Locate my save area (used by both calls)
                                             138          BLSCALL SPB=ENASPB
002006  4110 C0C8                   0020C8   139+         LA    1,ENASPB
00200A  58F0 0270                   000270   140+         L     15,LOD1BLST
00200E  0DEF                                 141+         $BASR 14,15
002010  47FF C014                   002014   142          B     *+4(15)   Use branch table to analyzed return code...
002014  47F0 C02C                   00202C   143          $B    ENABLED     0 - Console device is successfully enabled
002018  00000004                             144          DC    FL4'4'      4 - Console device is already enabled. Bad! Die.
00201C  47F0 C068                   002068   145          $B    DEVSCSW     8 - Console device is in an error state
002020  47F0 C058                   002058   146          $B    DEVNOAVL   12 - Console device is not available or invalid
002024  00000010                             147          DC    FL4'16'    16 - I/O Table is full.  Die here.
002028  00000014                             148          DC    FL4'20'    20 - Device class does not match existing entry. Die.
                                             149 * We are ignoring any interrupt from a secondary device.  Should not happen.

00202C                                       151 ENABLED  DS    0H    Pass console device IOT entry address to the EXCP service
00202C  D203 C0D4 C0CC      0020D4  0020CC   152          MVC   EXCPORB(4),ENAIOTA

                                             154 * Issue the 'Hello World' message...
                                             155          BLSCALL SPB=EXCPSPB
002032  4110 C0D0                   0020D0   156+         LA    1,EXCPSPB
002036  58F0 0270                   000270   157+         L     15,LOD1BLST
00203A  0DEF                                 158+         $BASR 14,15
00203C  47FF C040                   002040   159          B     *+4(15)   Use branch table to analyzed return code...
002040  47F0 C054                   002054   160          $B    HURRAY    'Hello World' message successful
002044  00000004                             161          DC    FL4'4'      4 - Physical end-of-file??  Nope!  Die here.
ASMA Ver. 0.2.0  PGM5 - HELLO WORLD WITH BOOT LOADER SERVICES                                       08 Sep 2020 06:07:27  Page     5

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

002048  47F0 C068                   002068   162          $B    DEVSCSW     8 - Console device is in an error state
00204C  47F0 C058                   002058   163          $B    DEVNOAVL   12 - Console device is in an error state
002050  00000010                             164          DC    FL4'16'    16 - ORB is invalid.  Die here.

002054  8200 C070                   002070   166 HURRAY   LPSW  DONE      Normal program termination

                                             168 * End the bare-metal program with an error indicated in PSW
002058  9204 C07F                   00207F   169 DEVNOAVL MVI   ENDBAD+7,X'04'
00205C  8200 C078                   002078   170          LPSW  ENDBAD    Code 004 End console device is not available
002060  9208 C07F                   00207F   171 DEVBUSY  MVI   ENDBAD+7,X'08'
002064  8200 C078                   002078   172          LPSW  ENDBAD    Code 008 End because device is busy or not available
002068  920C C07F                   00207F   173 DEVSCSW  MVI   ENDBAD+7,X'0C'
00206C  8200 C078                   002078   174          LPSW  ENDBAD    Code 00C End because SCSW stored in IOT entry

                                             176 * PSW's terminating program execution
                                             177 DONE     DWAITEND              Successful execution of the program
002070  000A0000 00000000                    179+DONE     PSW   0,0,2,0,X'000000'
                                             180 ENDBAD   DWAIT PGM=05,CMP=1,CODE=000  Updated with abend code
002078  000A0000 00051000                    181+ENDBAD   PSW   0,0,2,0,X'051000'
ASMA Ver. 0.2.0  PGM5 - BOOT LOADER SERVICES PARAMETER BLOCKS                                       08 Sep 2020 06:07:27  Page     6

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             183 *
                                             184 * I/O related Boot Loader Service Parameter Blocks and Save Area
                                             185 *

                                             187 SAVEAREA SAVEAREA
002080  00000000 00000000                    188+SAVEAREA DC    18F'0'      32-bit register save area
002088  00000000 00000000
002090  00000000 00000000
002098  00000000 00000000
0020A0  00000000 00000000
0020A8  00000000 00000000
0020B0  00000000 00000000
0020B8  00000000 00000000
0020C0  00000000 00000000

                                             190 * ENADEV Service Paramater Block (See BLS.odt or BLS.pdf for details)
0020C8                                       191          DS    0F
0020C8  0003                                 192 ENASPB   DC    Y(ENADEV)    Service ID for ENADEV service (from BLSTABLE)
0020CA  000F                                 193          DC    XL2'000F'    Input/Output - Console device number

                                             195 * Service Parameter Block Extenion
0020CC                                       196 ENAIOTA  DS    0F           Output - Console device I/O Table entry address
0020CC  70                                   197 ENASPBC  DC    AL1(BLSCON)  Input - Enabling a console device (from BLIOT)
0020CD  000000                               198          DC    XL3'00'



                                             200 * EXCP Service Parametger Block (See BLS.odt or BLS.pdf for details)

0020D0                                       202          DS    0F
0020D0  0004                                 203 EXCPSPB  DC    Y(EXCP)      Service ID for EXCP service (from BLSTABLE)
0020D2  0C                                   204          DC    AL1(SPBEWDC) EXCP controls (from BLSPB)
0020D3  00                                   205          DC    XL1'00'      not used
                                             206 EXCPORB  BLSORB CCW=CONCCW
0020D4                                       208+EXCPORB  DS    0XL12
0020D4  00000000                             209+         DC    A(0)                         Word 0 - Interruption Parameter
0020D8  00                                   210+         DC    AL1((0)*16+B'0000')          Word 1, bits 0-7
0020D9  00                                   211+         DC    BL1'00000000'                Word 1, bits 8-15
0020DA  FF                                   212+         DC    AL1(255)                     Word 1, bits 16-23
0020DB  00                                   213+         DC    BL1'00000000'                 Word 1, bits 24-31
0020DC  000020E0                             214+         DC    AL4(CONCCW)                  Word 2 - CCW address



                                             216 *
                                             217 * CCW and data used by the program to write the Hello World message
                                             218 *

0020E0  090020E8 00000017                    220 CONCCW   CCW   X'09',MESSAGE,0,MSSGLEN      Write Hello World message with CR
                                             221 *         CCW   X'03',0,0,1                   ..then a NOP.
                                             222 * If the preceding NOP CCW command is enabled, then the CONCCW must set
                                             223 * command chaining in the flag byte, setting the third operand to X'40'
ASMA Ver. 0.2.0  PGM5 - BOOT LOADER SERVICES PARAMETER BLOCKS                                       08 Sep 2020 06:07:27  Page     7

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT


0020E8  C8859393 9640C281                    225 MESSAGE  DC    C'Hello Bare-Metal World!'   Data sent to console device
0020F0  998560D4 85A38193
0020F8  40E69699 93845A
                            000017  000001   226 MSSGLEN  EQU   *-MESSAGE                    Length of Hello World text data



ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page     8

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             229 *
                                             230 * Boot loader service ID's:
                                             231 *

                                             233          BLSTABLE
                            000000  000001   235+NOOP     EQU   0
                            000001  000001   237+IOINIT   EQU   1
                            000002  000001   239+QIOT     EQU   2
                            000003  000001   241+ENADEV   EQU   3
                            000004  000001   243+EXCP     EQU   4
                            000005  000001   245+PNDING   EQU   5



                                             248 *
                                             249 * Service Parameter Block and Extension Usage
                                             250 *

                                             252          BLSPB
                                             253+*
                                             254+* Boot Loader Services Parameter Block
                                             255+*
                                             256+SPB      DSECT
000000  0000                                 257+SPBID    DS    H           Service ID of requested service from caller
000002  0000                                 258+SPBSI    DS    H           Service Information provided by caller
                            000004  000001   259+SPBE     EQU   *           Start of SPB extension used by service

                                             261+* This SPBE field is used by IOINIT, QIOT, ENADEV, and PNDING services
000004  00000000                             262+SPBIOTA  DS    F           I/O Table entry address as service input or output

                                             264+* IOINIT SPBE - SERVICE ID 1
                                             265+*   SPB: DC  Y(IOINIT),H'0'
000008                      000008  000002   266+         ORG   SPBSI
000002  00                                   267+SPBCCWF  DS    X           CCW Format used by boot loader services
                            000001  000001   268+SPBCCW0  EQU   X'01'       CCW Format 0 used
                            000002  000001   269+SPBCCW1  EQU   X'02'       CCW Format 1 used
000003  00                                   270+         DS    X
000004  00000000                             271+         DS    F           Returned address of I/O Table entry

                                             273+* QIOT SPBE -   SERVICE ID 2
                                             274+*   SPB: DC  Y(QIOT),H'0',F'0'
000008                      000008  000004   275+         ORG   SPBE
000004  00000000                             276+         DS    F           Returned address of I/O Table entry

                                             278+* ENADEV SPBE - SERVICE ID 3
                                             279+*   SPB: DC   Y(ENADEV),H'0',AL1(BLSTYP),XL3'000000'
000008                      000008  000004   280+         ORG   SPBE
000004  00                                   281+SPBDCLS  DS    X           Input Device Class (same values as BLSTYP)
000005                      000005  000004   282+         ORG   SPBE  (RC==0 or RC==4)
000004  00000000                             283+         DS    F           Returned address of I/O Table entry
000008                      000008  000004   284+         ORG   SPBE  (RC==8)
000004  00                                   285+         DS    X           Input Device Class (SPBDCLS)
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page     9

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000005  00                                   286+         DS    X           RESERVED
000006  00                                   287+SPBDEVST DS    X           Device status (if available)
000007  00                                   288+SPBCHST  DS    X           Channel status (if available)
000008                      000008  000004   289+         ORG   SPBE  (RC==12, RC==16, or RC==20)
000004  00                                   290+         DS    X           Input Device Class (SPBDCLS)
000005  000000                               291+         DS    XL3         RESERVED


                                             293+* EXCP SPB -    SERVICE ID 4
                                             294+*   SPB: DC   Y(EXCP),H'0'
                                             295+*        BLSORB
000008                      000008  000002   296+         ORG   SPBSI
000002  00                                   297+SPBECTL  DS    X           EXCP input function control mask
                            000080  000001   298+SPBEBY1  EQU   X'80'       Bypass Step 1 processing (start I/O)
                                             299+* SPBEBY2  EQU   X'40'       Bypass Step 2 processing (I/O wait)
                                             300+* SPBEBY3  EQU   X'20'       Bypass Step 3 processing (status analysis)
                            00000C  000001   301+SPBEWTM  EQU   X'0C'       Mask to isolate wait conditions
                                             302+*                          Step 2 wait conditions:
                            00000C  000001   303+SPBEWDC  EQU   12            - Wait for both device and channel end
                            000008  000001   304+SPBEWCO  EQU   8             - Wait for channel end (may also have device end)
                            000004  000001   305+SPBEWDO  EQU   4             - Wait for device end (may also have channel end)
                            000000  000001   306+SPBEWNO  EQU   0             - Do not wait for both device and channel end
                            00000C  000001   307+SPBENRM  EQU   SPBEWDC     Usual controls for most I/O actions
                            000080  000001   308+SPBEATN  EQU   SPBEBY1     Usual controls for ATTN wait

000003  00                                   310+SPBPEND  DS    X           EXCP output pending data condition
                            000001  000001   311+SPBPENDG EQU   X'01'       I/O Table has pending actions for other devices
                            000000  000001   312+SPBPENDN EQU   X'00'       I/O Table has no pending actions

000004  00000000 00000000                    314+SPBEORB  DS    3F          Operational Request Block
00000C  00000000
000010                      000010  000004   315+         ORG   SPBEORB
000004  00000000                             316+SPBEORBT DS    F       +0  Device I/O Table address (Interruption Parameter)
000008  00                                   317+SPBEORBK DS    X       +4  Storage Key field
                            0000F0  000001   318+SPBEORBM EQU   X'F0'       Storage Key mask
                            00000F  000001   319+SPBEORBR EQU   X'0F'       Reserved portion of key field byte
000009  00                                   320+SPBEORB1 DS    X       +5  F flag byte required content
00000A  00                                   321+SPBEORBL DS    X       +6  Logical Path Mask
00000B  00                                   322+SPBEORB2 DS    X       +7  Required content
00000C                                       323+SPBEORBC DS    0XL4    +8  31-bit channel program address
00000C  00                                   324+         DS    X       +8  Ignored for early architectures
00000D  000000                               325+SPBEORBP DS    XL3     +9  24-bit channel program address


                                             327+* PNDGIN SPB -    SERVICE ID 5
                                             328+*   SPB: DC   Y(PNDING),H'0',F'0'
000010                      000010  000004   329+         ORG   SPBE
000004  00000000                             330+         DS    F           Returned IOT entry address of pending device



                                             332 *
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    10

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                                             333 * Boot Loader I/O Table Entry
                                             334 *

                                             336 BLSIOT   BLSIOT
                                             337+*
                                             338+* Boot Loader I/O Table Entry
                                             339+*
                                             340+BLSIOT   DSECT
000000  0000                                 341+BLSDEV   DS    H        +0 I/O device number

000002  00                                   343+BLSTYP   DS    X        +2 I/O device class and attributes
                            000080  000001   344+BLSPEOF  EQU   B'10000000' 'Detects physical end-of-file' mask
                            000040  000001   345+BLSUNSOL EQU   B'01000000' 'Generates unsolicited status' mask
                            000038  000001   346+BLSSCLS  EQU   B'00111000' Device subclass mask
                                             347+* Note: the device class is positioned in the byte so it can be used for the
                                             348+* channel subsystem SCHIB I/O subclass code field without shifting.
                            0000F8  000001   349+BLSRSV   EQU   B'11111000' Reserved bits mask (zeros)              UE
                                             350+*                        CLASS                                    PEOF ATTN
                                             351+*              B'00000000' 0 - Highest priority available           ?    ?
                            000008  000001   352+BLSFBA   EQU   B'00001000' 1 - Fixed-Block-Architecture DASD device N    N
                            000089  000001   353+BLSCKD   EQU   B'10001001' 1 - Count-Key-Data DASD device           Y    N
                            000090  000001   354+BLSTAPE  EQU   B'10010000' 2 - Sequential tape device               Y    N
                            000098  000001   355+BLSCARD  EQU   B'10011000' 3 - Sequential input card device         Y    N
                            000020  000001   356+BLSPUN   EQU   B'00100000' 4 - Sequential output punch device       N    N
                            000028  000001   357+BLSPR    EQU   B'00101000' 5 - Sequential output printer device     N    N
                            000070  000001   358+BLSCON   EQU   B'01110000' 6 - Operator console device              N    Y
                            000078  000001   359+BLS3270  EQU   B'01111000' 7 - Operator 3270 terminal device        N    Y

000003  00                                   361+BLSTATUS DS    X        +3 Current device status
                            000080  000001   362+BLSBUSY  EQU   B'10000000' Device is busy
                                             363+* Note: When BLSBUSY set, BLSTAT, BLSTATO, BLSTATS and BLSSNSP turned off,
                                             364+* (set to 0).
                            000040  000001   365+BLSTAT   EQU   B'01000000' Status in BLSSW.
                            000020  000001   366+BLSTATO  EQU   B'00100000' Pending action present in BLSACT
                            000002  000001   367+BLSTATS  EQU   B'00000010' Unit and channel status present in BLSUNCH
                            000001  000001   368+BLSSNSP  EQU   B'00000001' Sense data is present in BLSSNS

000004  00000000                             370+BLSHDW   DS    F        +4 Hardware defined device address

000008                                       372+BLSUNCH  DS    0XL2     +8 Accumulated status when bit 1 set to 1 in BLSTATUS
000008  00                                   373+BLSUNIT  DS    X           Unit status
                            000080  000001   374+BLSATTN  EQU   B'10000000' Attention status
                            000001  000001   375+BLSUE    EQU   B'00000001' Unit exception status (physical EOF)
000009  00                                   376+BLSCH    DS    X           Channel status


00000A  00                                   378+BLSSNS   DS    XL1     +10 Sense data present when bit 7 set to 1 in BLSTATUS

00000B  00                                   380+BLSACT   DS    XL1     +11 Pending action when bit 2 set to 1 in BLSTATUS
                            000000  000001   381+BLSRDSN  EQU   X'00'       Device has pending sense data to be read
                            000004  000001   382+BLSREAD  EQU   X'04'       Device has pending data to be read
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    11

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

00000C  00                                   384+BLSERR   DS    XL1     +12 Device status error mask, set by ENADEV

00000D  000000                               386+BLSRSV2  DS    XL3     +13 RESERVED

000010  00000000 00000000                    388+BLSSW    DS    3F      +16 SCSW of the latest interruption
000018  00000000

00001C  00000000                             390+BLSPROG  DS    F       +28 Reserved for booted program usage
                            000020  000001   391+BLSIOEL  EQU   *-BLSIOT    Length of an I/O Table Entry (32 bytes)



                                             393 *
                                             394 * Hardware and software assigned storage areas
                                             395 *

                                             397 * This DSECT allows symbolic access to these assigned locations.  The DSECT
                                             398 * created is named ASA and contains the assigned storage locations and boot
                                             399 * loader LOD1 record definition.
                                             400 ASA      BLSASA
                                             402+ASA      DSECT
                            000000  000001   403+ASBEGIN  EQU   *                   Start of absolute/real assigned storage areas
000000  00000000 00000000                    404+IPLPSW   DC    FD'0'        000 A  Initial Program Load Program Status Word
000008  00000000 00000000                    405+IPLCCW1  DC    FD'0'        008 A  Initial Program Load first Channel Command Word
000010  00000000 00000000                    406+IPLCCW2  DC    FD'0'        010 A  Initial program Load second Channel Command Word
                                             407+* RESTART RELATED PROGRAM STATUS WORDS
000018                      000018  000000   408+         ORG   ASBEGIN
000000  00000000 00000000                    409+RSTNPSW  DC    FD'0'        000 R  Restart New PSW
000008  00000000 00000000                    410+RSTOPSW  DC    FD'0'        008 R  Restart Old PSW
000010  00000000 00000000                    411+UA0      DC    FD'0'        010 R  Unassigned Area 0
                                             412+* INTERRUPTION OLD PROGRAM STATUS WORD SAVE AREAS
000018  00000000 00000000                    413+EXTOPSW  DC    FD'0'        018 R  External Interrupt Old PSW
000020  00000000 00000000                    414+SVCOPSW  DC    FD'0'        020 R  Supervisor Call Old PSW
000028  00000000 00000000                    415+PGMOPSW  DC    FD'0'        028 R  Program Old PSW
000030  00000000 00000000                    416+MCKOPSW  DC    FD'0'        030 R  Machine Check Old PSW
000038  00000000 00000000                    417+IOOPSW   DC    FD'0'        038 R  Input/Output Old PSW
                                             418+* System/360 or System/370 Basic Control Mode INTERRUPTION INFORMATION
000040                      000040  00001A   419+         ORG   EXTOPSW+2
00001A  0000                                 420+BCEXTCOD DC    H'0'         01A R  External Interuption Code
00001C                      00001C  000022   421+         ORG   SVCOPSW+2
000022  0000                                 422+BCSVCCOD DC    H'00'        022 R  Supervisor Call Interruption Code
000024                      000024  00002A   423+         ORG   PGMOPSW+2
00002A  0000                                 424+BCPGMCOD DC    H'0'         02A R  Program Interruption Code
00002C                      00002C  000032   425+         ORG   MCKOPSW+2
000032  0000                                 426+BCMCKCOD DC    H'0'         032 R  Machine Check Interruption Code
000034                      000034  00003A   427+         ORG   IOOPSW+2
00003A  0000                                 428+BCIOCOD  DC    H'0'         03A R  Input/Output Interruption Code (Device CCUU)
00003C                      00003C  000040   429+         ORG   *+4
                                             430+* CHANNEL-BASED INPUT/OUTPUT INTERRUPT RELATED
000040  00000000 00000000                    431+CSW      DC    FD'0'        040 R  Channel Status Word
000048                                       432+CAW      DC    0F'0'        048 R  Channel Address Word
000048  00                                   433+CAWKEY   DC    X'00'        048 R  Channel Storage Key (bits 0-3)
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    12

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                            000008  000001   434+CAWSUSP  EQU   X'08'        048 R  Suspend Control (bit 4)
000049  000000                               435+CAWADDR  DC    AL3(0)       049 R  Channel Command Address
00004C  00000000                             436+UA1      DC    F'0'         04C R  Unassigend Area 1
                                             437+* MISCELANEOUS AREAS
000050  00000000                             438+TIMER    DC    F'0'         050 R  System/360 and System/370 Interval Timer
000054  00000000                             439+TTDES    DC    F'0'         054 R  System/370 Trace-Table-Designation
                                             440+* INTERRUPTION NEW PROGRAM STATUS WORD AREAS
000058  00000000 00000000                    441+EXTNPSW  DC    FD'0'        058 R  External New PSW
000060  00000000 00000000                    442+SVCNPSW  DC    FD'0'        060 R  Supervisor Call New PSW
000068  00000000 00000000                    443+PGMNPSW  DC    FD'0'        068 R  Program New PSW
000070  00000000 00000000                    444+MCKNPSW  DC    FD'0'        070 R  Machine Check New PSW
000078  00000000 00000000                    445+IONPSW   DC    FD'0'        078 R  Input/Output New PSW
                                             446+* System/360 Diagnostic Scanout Area
000080                                       447+SCANOUT  DS    0X           080 A  System/360 Diagnostic Scanout Area
                            000000  000001   448+SCANOUTL EQU   *-SCANOUT           System/360 Diagnostic Scanout Area Length
                                             449+* EXTERNAL INTERRUPTION INFORMATION
000080                      000080  000080   450+         ORG   ASBEGIN+X'80'
000080  00000000                             451+EXTIPARM DC    F'0'         080 R  External-interruption Parameter
000084  0000                                 452+EXTCPUAD DC    H'0'         084 R  External-interruption CPU Address
000086  0000                                 453+EXTICODE DC    H'0'         086 R  External-interruption Code
                                             454+* SUPERVISOR CALL INTERRUPTION INFORMATION
000088                                       455+SVCIID   DC    0F'0'        088 R  Supervisor-Call Interuption Identification
000088  00                                   456+         DC    X'00'        088 R  not-used - zeros stored
000089  00                                   457+SVCIILC  DC    X'00'        089 R  Supervisor-Call instruction length code
                            00000C  000001   458+SVCIILCM EQU   B'00001100'         Supervisor-Call ILC mask, zeros stored in other bits
00008A  0000                                 459+SVCICODE DC    H'0'         08A R  Supervisor-Call Interruption Code
                                             460+* PROGRAM INTERRUPTION INFORMATION
00008C                                       461+PGMIID   DC    0F'0'        08C R  Program-interruption identification
00008C  00                                   462+         DC    X'00'        08C R  not-used - zeros stored
00008D  00                                   463+PGMIILC  DC    X'00'        08D R  Program instruction lengh code
                            00000C  000001   464+PGMIILCM EQU   B'00001100'         Progrtam ILC mask, zeros stored in other bits
00008E  0000                                 465+PGMICODE DC    H'0'         08E R  Program Interruption Code
000090                                       466+PGMDXC   DC    0F'0'        090 R  Data-Exception Code
000090  00000000                             467+PGMTRX   DC    F'0'         090 R  Translation-Exception Identification
000094                                       468+MONCLS   DC    0H'0'        094 R  Monitor-Class Number
000094  00                                   469+         DC    X'00'        094 R  not-used - zeros stored
000095  00                                   470+MONNUMBR DC    X'00'        095 R  Monitor-Class Number stored
000096  00                                   471+PERCODE  DC    X'00'        096 R  Program-Event-Recording Code
                            0000F0  000001   472+PERCODMK EQU   B'11110000'         Program-Event-Recordind Code mask in bits 0-3
000097  00                                   473+         DC    X'00'        097 R  PER Code not used - zeros stored
000098  00000000                             474+PERADDR  DC    F'0'         098 R  PER Address
00009C  00000000                             475+MONCODE  DC    F'0'         09C R  Monitor Event Code in bytes 1-3, zeros in byte 0
0000A0  00                                   476+PGMACCID DC    X'00'        0A0 R  Exception accress identification
0000A1  00                                   477+PERACCID DC    X'00'        0A1 R  PER access identification
0000A2  00                                   478+MPGACCID DC    X'00'        0A2 R  MOVE PAGE Operand access identification
0000A3                                       479+SSARCHMD DC    0X'00'       0A3 A  Store Status Architectural Mode Identification
0000A3  00                                   480+MKARCHMD DC    X'00'        0A3 R  Machine-Check Architectural Mode Identification
0000A4  00000000                             481+UA2      DC    F'0'         0A4 R  Unused area
                                             482+* z/Architecture PROGRAM INTERRUPTION INFORMATION
0000A8  00000000 00000000                    483+ZPGMTRX  DC    FD'0'        0A8 R  Translation Exception information
0000B0  00000000 00000000                    484+ZMONCODE DC    FD'0'        0B0 R  Monitor Code
                                             485+* System/370 CHANNEL INPUT/OUTPUT INFORMATION
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    13

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

0000B8                      0000B8  0000A8   486+         ORG   ASBEGIN+X'A8'
0000A8  00000000                             487+CHANID   DC    F'0'         0A8 R  System/370 STORE CHANNEL ID location
0000AC  00000000                             488+IOELADDR DC    F'0'         0AC R  System/370 I/O Extended Logout Address
0000B0  00000000                             489+LCHANLOG DC    F'0'         0B0 R  System/370 Limited Channel Logout Area
0000B4  00000000                             490+UA3      DC    F'0'         0B4 R  unused by System/370
0000B8  00                                   491+UA4      DC    X'00'        0B8 R  unused by System/370
0000B9  00                                   492+MEASUREB DC    X'00'        0B9 R  System/370 Measurement Byte
0000BA  0000                                 493+IOICODE  DC    H'0'         0BA R  System/370 Input/Output Interruption Device Address
                                             494+* CHANNEL SUBSYSTEM INPUT/OUTPUT INFORMATION
0000BC                      0000BC  0000B8   495+         ORG   ASBEGIN+X'B8'
0000B8  00000000                             496+IOSSID   DC    F'0'         0B8 R  Channel subsystem-identification word
0000BC  00000000                             497+IOIPARM  DC    F'0'         0BC R  Channel subsystem I/O Interruption parameter
0000C0  00000000                             498+IOIID    DC    F'0'         0C0 R  Channel subsystem I/O Interruption Identification
0000C4  00000000                             499+PCFETO   DC    A(0)         0C4 R  ESA/390 PROGRAM CALL FAST Entry Table Origin
0000C8  00000000                             500+STFLDATA DC    F'0'         0C8 R  STORE FACILITY LIST storage area
0000CC  00000000 00000000                    501+UA5      DC    XL8'00'      0CC R  unused area
                                             502+* MACHINE-CHECK INTERRUPTION INFORMATION
0000D4  00000000                             503+MKXSAA   DC    F'0'         0D4 R  Machine-Check Extended Save Area Address
0000D8  00000000 00000000                    504+MKCPUTIM DC    FD'0'        0D8 R  Machine-Check CPU timer save area
0000E0  00000000 00000000                    505+MKCLKCMP DC    FD'0'        0E0 R  Machine-Check clock comparator save area
0000E8  00000000                             506+MKICODE  DC    F'0'         0E8 R  Machine-Check interruption code
0000EC  00000000 00000000                    507+UA6      DC    XL8'00'      0EC R  unused area
0000F4  00000000                             508+MKDMGCOD DC    F'0'         0F4 R  Machine-Check external damage code
0000F8                                       509+ZMKFAILA DC    0FD'0'       0F8 R  Machine-Check failing storage address
0000F8  00000000                             510+MKFAILA  DC    F'0'         0F8 R  Machine-Check failing storage address
0000FC  00000000                             511+MKMODEL  DC    F'0'         0FC R  Machine-Check model dependent information
000100  00000000 00000000                    512+MKLOGOUT DC    4F'0'        100 R  ESA machine-check fixed logout area
000108  00000000 00000000
000110                      000110  000100   513+         ORG   ASBEGIN+X'100'
000100  00000000 00000000                    514+ZEMONCTR DC    AD(0)        100 R  Enhanced-Monitor Counter-Array Origin
000108  00000000                             515+ZEMONSIZ DC    F'0'         108 R  Enhanced-Monitor Counter-Array Size
00010C  00000000                             516+ZEMONCNT DC    F'0'         10C R  Enhanced-Monitor Exception Count
000110  00000000 00000000                    517+ZBRKADDR DC    AD(0)        110 R  Breaking-Event Address
000118  00000000 00000000                    518+UA7      DC    FD'0'        118 R  unused area
000120  00000000 00000000                    519+MKARS    DC    16F'0'       120 R  Machine-Check access register save area
000128  00000000 00000000
000130  00000000 00000000
000138  00000000 00000000
000140  00000000 00000000
000148  00000000 00000000
000150  00000000 00000000
000158  00000000 00000000
000160                      000160  000100   520+         ORG   ASBEGIN+X'100'
000100  00000000 00000000                    521+MCKLOG   DC    24F'0'       100 R  System/370, 370-XA machine-Check fixed logout area.
000108  00000000 00000000
000110  00000000 00000000
000118  00000000 00000000
000120  00000000 00000000
000128  00000000 00000000
000130  00000000 00000000
000138  00000000 00000000
000140  00000000 00000000
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    14

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000148  00000000 00000000
000150  00000000 00000000
000158  00000000 00000000
000160  00000000 00000000                    522+MKFPRS   DC    4D'0'        160 R  Machine-Check floating point register save area
000168  00000000 00000000
000170  00000000 00000000
000178  00000000 00000000
000180  00000000 00000000                    523+NKGRS    DC    16F'0'       180 R  Machine-Check general register save area
000188  00000000 00000000
000190  00000000 00000000
000198  00000000 00000000
0001A0  00000000 00000000
0001A8  00000000 00000000
0001B0  00000000 00000000
0001B8  00000000 00000000
0001C0  00000000 00000000                    524+MKCRS    DC    16F'0'       1C0 R  Machine-Check control register save area
0001C8  00000000 00000000
0001D0  00000000 00000000
0001D8  00000000 00000000
0001E0  00000000 00000000
0001E8  00000000 00000000
0001F0  00000000 00000000
0001F8  00000000 00000000
                                             525+* STORE/STATUS SAVE AREAS
000200                      000200  0000D4   526+         ORG   ASBEGIN+X'D4'
0000D4  00000000                             527+SSXSAA   DC    A(0)         0D4 A  Store Status Extended Save Area Address
0000D8  00000000 00000000                    528+SSCPUTIM DC    FD'0'        0D8 A  CPU Timer save area
0000E0  00000000 00000000                    529+SSCLKCMP DC    FD'0'        0E0 A  Clock-Comparator save area
0000E8                      0000E8  000100   530+         ORG   ASBEGIN+X'100'
000100  00000000 00000000                    531+SSPSW    DC    FD'0'        100 A  Program-Status Word save area
000108  00000000                             532+SSPREFIX DC    F'0'         108 A  Prefix save area
00010C  00000000                             533+SSMODEL  DC    F'0'         10C A  Model-dependent save area
000110                      000110  000120   534+         ORG   ASBEGIN+X'120'
000120  00000000 00000000                    535+SSARS    DC    16F'0'       120 A  Access-register save area
000128  00000000 00000000
000130  00000000 00000000
000138  00000000 00000000
000140  00000000 00000000
000148  00000000 00000000
000150  00000000 00000000
000158  00000000 00000000
000160  00000000 00000000                    536+SSFPRS   DC    4D'0'        160 A  Floating-point register save area
000168  00000000 00000000
000170  00000000 00000000
000178  00000000 00000000
000180  00000000 00000000                    537+SSGRS    DC    16F'0'       180 A  General register save area
000188  00000000 00000000
000190  00000000 00000000
000198  00000000 00000000
0001A0  00000000 00000000
0001A8  00000000 00000000
0001B0  00000000 00000000
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    15

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

0001B8  00000000 00000000
0001C0  00000000 00000000                    538+SSCRS    DC    16F'0'       1C0 A  Control register save area
0001C8  00000000 00000000
0001D0  00000000 00000000
0001D8  00000000 00000000
0001E0  00000000 00000000
0001E8  00000000 00000000
0001F0  00000000 00000000
0001F8  00000000 00000000
                                             539+* z/Architecture OLD PROGRAM STATUS WORDS
000200                      000200  000120   540+         ORG   ASBEGIN+X'120'
000120  00000000 00000000                    541+ZRSTOPSW DC    XL16'00'     120 R  Restart Old PSW
000128  00000000 00000000
000130  00000000 00000000                    542+ZEXTOPSW DC    XL16'00'     130 R  External Old PSW
000138  00000000 00000000
000140  00000000 00000000                    543+ZSVCOPSW DC    XL16'00'     140 R  Supervisor-Call Old PSW
000148  00000000 00000000
000150  00000000 00000000                    544+ZPGMOPSW DC    XL16'00'     150 R  Program Old PSW
000158  00000000 00000000
000160  00000000 00000000                    545+ZMCKOPSW DC    XL16'00'     160 R  Machine-Check Old PSW
000168  00000000 00000000
000170  00000000 00000000                    546+ZIOOPSW  DC    XL16'00'     170 R  Input-Output Old PSW
000178  00000000 00000000
000180  00000000 00000000                    547+UA8      DC    XL32'00'     180 R  z/Architecture unused area
000188  00000000 00000000
000190  00000000 00000000
000198  00000000 00000000
                                             548+* z/Architecture NEW PROGRAM STATUS WORD AREAS
0001A0  00000000 00000000                    549+ZRSTNPSW DC    XL16'00'     1A0 R  Restart New PSW
0001A8  00000000 00000000
0001B0  00000000 00000000                    550+ZEXTNPSW DC    XL16'00'     1B0 R  External New PSW
0001B8  00000000 00000000
0001C0  00000000 00000000                    551+ZSVCNPSW DC    XL16'00'     1C0 R  Supervisor-Call New PSW
0001C8  00000000 00000000
0001D0  00000000 00000000                    552+ZPGMNPSW DC    XL16'00'     1D0 R  Program New PSW
0001D8  00000000 00000000
0001E0  00000000 00000000                    553+ZMCKNPSW DC    XL16'00'     1E0 R  Machine-Check New PSW
0001E8  00000000 00000000
0001F0  00000000 00000000                    554+ZIONPSW  DC    XL16'00'     1F0 R  Input/Output New PSW
0001F8  00000000 00000000
                            0011C0  000001   555+ZSASDISP EQU   X'11C0'   Displacement to save areas defined by ASAZAREA macro
                            000200  000001   556+ASEND    EQU   *                   End of absolute/real assigned storage areas
                            000200  000001   557+ASLENGTH EQU   ASEND-ASBEGIN       Length of absolute/real assigned storage area
                                             558+* LOGICAL ADDRESS USAGE
                            00031B  000001   559+CPUID    EQU   *+X'11B'     31B L  System/370 CPU Identity used during DAS tracing
                                             561+ASA      DSECT
000200                      000200  000200   562+         ORG   ASA+X'200'
000200  00000000 00000000                    563+LODPARMS DS    CL64     Hercules IPL parameters
000208  00000000 00000000
000210  00000000 00000000
000218  00000000 00000000
000220  00000000 00000000
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    16

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

000228  00000000 00000000
000230  00000000 00000000
000238  00000000 00000000
                                             564+* Addresses reflect location of LOD1 record when placed in its ASA area
                                             565+* 000240-00028F.  Fields identified with an asterisk (*) indicate that
                                             566+* the boot loader supplies the information during execution.
                            000240  000001   567+LOD1     EQU   *        Start of LOD1 record definition
000240  00000000                             568+LOD1REC  DS    CL4      000240 - Record ID 'LOD1' in EBCDIC

000244  00                                   570+LOD1DTYP DS    XL1      000244 - IPL Device Type related information
                            000001  000001   571+LOD1OBJ  EQU   B'00000001'   Booted program is in an object deck
                            000002  000001   572+LOD1LENF EQU   B'00000010'   Directed record header contains a length field
                            000004  000001   573+LOD1CARD EQU   B'00000100'   IPL device is a card reader
                            000008  000001   574+LOD1TAPE EQU   B'00001000'   IPL device is a tape drive
                            000010  000001   575+LOD1FBA  EQU   B'00010000'   IPL device is a FBA DASD drive
                            000020  000001   576+LOD1CKD  EQU   B'00100000'   IPL device is a CKD DASD drive
                            000040  000001   577+LOD1ECKD EQU   B'01000000'   IPL device is a ECKD DASD drive

000245  00                                   579+LOD1BLFL DS    XL1      000245 - Boot loader flags
                            000080  000001   580+LOD1BLCA EQU   B'10000000'   Change architecture before loading booted program
                            000040  000001   581+LOD1BL64 EQU   B'01000000'   Set 64-bit address mode before entering program
                            000020  000001   582+LOD1BLTR EQU   B'00100000'   Set trap new PSW's before entering program
                            000010  000001   583+LOD1BLF1 EQU   B'00010000'   Use Format-1 CCW's and 31 bit addressing mode

000246  0000                                 585+LOD1MDLN DS    HL2      000246 - Maximum directed record length in bytes

                                             587+* After loading of a booted progrm, these two fields must match.
                                             588+* Note: not used when loading an absolute object deck.
000248  00000000                             589+LOD1BPLN DS    FL4      000248 - Length of booted program content on medium
00024C  00000000                             590+LOD1BPLD DS    FL4    * 00024C - Length of loaded boot program
000250  00000000                             591+LOD1ENTR DS    FL4      000250 - Booted program's entry address

000254  00                                   593+LOD1CPU  DS    XL1    * 000254 - Boot loader's CPU running architecture
                            000000  000001   594+LOD1CPNA EQU   X'00'         CPU architecture not available
                            000001  000001   595+LOD1360  EQU   X'01'         S/360 in BC mode
                            000002  000001   596+LOD1370B EQU   X'02'         S/370 in BC mode
                            000003  000001   597+LOD1370E EQU   X'03'         S/370 in EC mode
                            000004  000001   598+LOD1380  EQU   X'04'         S/380
                            000005  000001   599+LOD1370X EQU   X'05'         370-XA through ESA/390
                            000006  000001   600+LOE1E370 EQU   X'06'         ESA/370
                            000007  000001   601+LOD1E390 EQU   X'07'         ESA/390
                            000008  000001   602+LOD1S390 EQU   X'08'         ESA/390 on dual z/Arthitecture(R) system
                            000009  000001   603+LOD1ESAZ EQU   X'09'         z/Architecture on a dual z/Architecture system
                            00000A  000001   604+LOD1Z    EQU   X'0A'         z/Architecture only system
                            0000FF  000001   605+LOD1CPIN EQU   X'FF'         Invalid CPU operating environment

000255  00                                   607+LOD1IO   DS    XL1    * 000255 - Boot loader's I/O architecture and mode
                            000000  000001   608+LOD1IONA EQU   B'00000000'   I/O architecture and mode not available
                            000010  000001   609+LOD1IACH EQU   B'00010000'   I/O architecture is channel based
                            000020  000001   610+LOD1IACS EQU   B'00100000'   I/O architecture is channel subsystem based
                            0000C0  000001   611+LOD1IAIN EQU   B'11000000'   I/O architecture is invalid
                            000001  000001   612+LOD1IM24 EQU   B'00000001'   I/O architecture uses CCW Format-0 CCW's
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    17

 LOC       OBJECT CODE      ADDR1   ADDR2   STMT

                            000002  000001   613+LOD1IM31 EQU   B'00000010'   I/O architecture uses CCW Format-0 CCW's
                            000004  000001   614+LOD1IM64 EQU   B'00000100'   I/O architecture uses CCW1's plus IDAW-2's.
                            000008  000001   615+LOD1IMIN EQU   B'00001000'   I/O architecture mode is invalid
                            0000C8  000001   616+LOD1IOIN EQU   LOD1IAIN+LOD1IMIN  I/O architecture or mode invalid
                            000011  000001   617+LOD1I370 EQU   LOD1IACH+LOD1IM24  S/360 and S/370 I/O
                            000022  000001   618+LOD1IESA EQU   LOD1IACS+LOD1IM31  370-XA through ESA/390 I/O
                            000024  000001   619+LOD1IZ   EQU   LOD1IACS+LOD1IM64  z/Architecture I/O

000256  00                                   621+LOD1BLAM DS    XL1    * 000256 - Boot loader's addressing mode when booted
                                             622+*                                program is entered
                            000000  000001   623+LOD1AMAN EQU   X'00'         Addressing mode not available
                            000001  000001   624+LOD1AM24 EQU   X'01'         Addressing mode is 24-bits
                            000002  000001   625+LOD1AM31 EQU   X'02'         Addressing mode is 31-bits
                            000003  000001   626+LOD1AM64 EQU   X'03'         Addressing mode is 64-bits
                            0000FF  000001   627+LOD1AMIN EQU   X'FF'         Addressing mode is invalid

000257  00                                   629+LOD1BLSV DS    XL1    * 000257 - Boot loader's services
                            000000  000001   630+LOD1BLSN EQU   X'00'         Boot loader services are unavailable
                                             631+* Meaning of these bits are defined by the boot loader. Not zero implies
                                             632+* services are available and LOD1BLST is valid.  When zero, LOD1BLST is
                                             633+* not available.

000258  00000000                             635+LOD1FSEC DS    FL4      000258 - Directed record FBA DASD starting sector
00025C  0000                                 636+LOD1CCYL DS    HL2      00025C - Directed record CKD DASD starting cylinder
00025E  0000                                 637+LOD1CTRK DS    HL2      00025E - Directed record CKD DASD starting track
000260  00                                   638+LOD1CREC DS    XL1      000260 - Directed record CKD DASD starting rec
000261  00                                   639+LOD1CRTK DS    XL1      000261 - Number of directed records per track
000262  0000                                 640+LOD1CMCY DS    HL2      000262 - Maximum CKD DASD cylinder number
000264  0000                                 641+LOD1CMTR DS    HL2      000264 - Maximum CKD DASD track number
000266  0000                                 642+LOD1DEVN DS    HL2    * 000266 - Device Number of IPL device from CS
000268  00000000                             643+LOC1DEVI DS    FL4    * 000268 - I/O command device ID (CUU / subchannel num)
00026C  00000000                             644+LOD1IOA  DS    AL4(0)   00026C - Boot loader I/O area starting address
000270  00000000                             645+LOD1BLST DS    AL4(0) * 000270 - Boot loader services address.
000274  00                                   646+LOD1ARCH DS    XL1    * 000274 - Running architecture level at boot loader entry
000275  000000                               647+LOD1RSV2 DS    XL3      000275 - RESERVED NOT IN USE
000278  00000000                             648+LOD1RTN  DS    A(0)   * 000278 - Address returning to service caller

00027C  00000000 00000000                    650+LOD1RSRV DS    5FL4     00027C - RESERVED NOT IN USE
000284  00000000 00000000
00028C  00000000
                            000050  000001   651+LOD1LEN  EQU   *-LOD1   Length of LOD1 record
                                             652          END
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    18

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

ASA                 4    000000     656   402  562  132
ASAREGN             2    000000     512   108
ASASECT             J    000000     512   108  111  118  121  123
ASBEGIN             U    000000       1   403  408  450  486  495  513  520  526  530  534  540  557
ASEND               U    000200       1   556  557
ASLENGTH            U    000200       1   557
BCEXTCOD            H    00001A       2   420
BCIOCOD             H    00003A       2   428
BCMCKCOD            H    000032       2   426
BCPGMCOD            H    00002A       2   424
BCSVCCOD            H    000022       2   422
BLS3270             U    000078       1   359
BLSACT              X    00000B       1   380
BLSATTN             U    000080       1   374
BLSBUSY             U    000080       1   362
BLSCARD             U    000098       1   355
BLSCH               X    000009       1   376
BLSCKD              U    000089       1   353
BLSCON              U    000070       1   358  197
BLSDEV              H    000000       2   341
BLSERR              X    00000C       1   384
BLSFBA              U    000008       1   352
BLSHDW              F    000004       4   370
BLSIOEL             U    000020       1   391
BLSIOT              4    000000      32   340  391
BLSPEOF             U    000080       1   344
BLSPR               U    000028       1   357
BLSPROG             F    00001C       4   390
BLSPUN              U    000020       1   356
BLSRDSN             U    000000       1   381
BLSREAD             U    000004       1   382
BLSRSV              U    0000F8       1   349
BLSRSV2             X    00000D       3   386
BLSSCLS             U    000038       1   346
BLSSNS              X    00000A       1   378
BLSSNSP             U    000001       1   368
BLSSW               F    000010       4   388
BLSTAPE             U    000090       1   354
BLSTAT              U    000040       1   365
BLSTATO             U    000020       1   366
BLSTATS             U    000002       1   367
BLSTATUS            X    000003       1   361
BLSTYP              X    000002       1   343
BLSUE               U    000001       1   375
BLSUNCH             X    000008       2   372
BLSUNIT             X    000008       1   373
BLSUNSOL            U    000040       1   345
BOOTED5             2    002000     255   130
CAW                 F    000048       4   432
CAWADDR             R    000049       3   435
CAWKEY              X    000048       1   433
CAWSUSP             U    000008       1   434
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    19

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

CHANID              F    0000A8       4   487
CONCCW              W    0020E0       8   220  214
CPUID               U    00031B       1   559
CSW                 F    000040       8   431
DEVBUSY             I    002060       4   171
DEVNOAVL            I    002058       4   169  146  163
DEVSCSW             I    002068       4   173  145  162
DONE                3    002070       8   179  166
ENABLED             H    00202C       2   151  143
ENADEV              U    000003       1   241  192
ENAIOTA             F    0020CC       4   196  152
ENASPB              Y    0020C8       2   192  139
ENASPBC             R    0020CC       1   197
ENDBAD              3    002078       8   181  169  170  171  172  173  174
EXCP                U    000004       1   243  203
EXCPORB             X    0020D4      12   208  152
EXCPSPB             Y    0020D0       2   203  156
EXTCPUAD            H    000084       2   452
EXTICODE            H    000086       2   453
EXTIPARM            F    000080       4   451
EXTNPSW             F    000058       8   441
EXTOPSW             F    000018       8   413  419
HURRAY              I    002054       4   166  160
IMAGE               1    000000     767     0
IOELADDR            F    0000AC       4   488
IOICODE             H    0000BA       2   493
IOIID               F    0000C0       4   498
IOINIT              U    000001       1   237
IOIPARM             F    0000BC       4   497
IONPSW              F    000078       8   445
IOOPSW              F    000038       8   417  427
IOSSID              F    0000B8       4   496
IPLCCW1             F    000008       8   405
IPLCCW2             F    000010       8   406
IPLPSW              F    000000       8   404
LCHANLOG            F    0000B0       4   489
LOC1DEVI            U    000268       4   643
LOD1                U    000240       1   567  651
LOD1360             U    000001       1   595
LOD1370B            U    000002       1   596
LOD1370E            U    000003       1   597
LOD1370X            U    000005       1   599
LOD1380             U    000004       1   598
LOD1AM24            U    000001       1   624
LOD1AM31            U    000002       1   625
LOD1AM64            U    000003       1   626
LOD1AMAN            U    000000       1   623
LOD1AMIN            U    0000FF       1   627
LOD1ARCH            X    000274       1   646
LOD1BL64            U    000040       1   581
LOD1BLAM            X    000256       1   621
LOD1BLCA            U    000080       1   580
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    20

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

LOD1BLF1            U    000010       1   583
LOD1BLFL            X    000245       1   579
LOD1BLSN            U    000000       1   630
LOD1BLST            R    000270       4   645  140  157
LOD1BLSV            X    000257       1   629
LOD1BLTR            U    000020       1   582
LOD1BPLD            U    00024C       4   590
LOD1BPLN            U    000248       4   589
LOD1CARD            U    000004       1   573
LOD1CCYL            U    00025C       2   636
LOD1CKD             U    000020       1   576
LOD1CMCY            U    000262       2   640
LOD1CMTR            U    000264       2   641
LOD1CPIN            U    0000FF       1   605
LOD1CPNA            U    000000       1   594
LOD1CPU             X    000254       1   593
LOD1CREC            X    000260       1   638
LOD1CRTK            X    000261       1   639
LOD1CTRK            U    00025E       2   637
LOD1DEVN            U    000266       2   642
LOD1DTYP            X    000244       1   570
LOD1E390            U    000007       1   601
LOD1ECKD            U    000040       1   577
LOD1ENTR            U    000250       4   591
LOD1ESAZ            U    000009       1   603
LOD1FBA             U    000010       1   575
LOD1FSEC            U    000258       4   635
LOD1I370            U    000011       1   617
LOD1IACH            U    000010       1   609  617
LOD1IACS            U    000020       1   610  618  619
LOD1IAIN            U    0000C0       1   611  616
LOD1IESA            U    000022       1   618
LOD1IM24            U    000001       1   612  617
LOD1IM31            U    000002       1   613  618
LOD1IM64            U    000004       1   614  619
LOD1IMIN            U    000008       1   615  616
LOD1IO              X    000255       1   607
LOD1IOA             R    00026C       4   644
LOD1IOIN            U    0000C8       1   616
LOD1IONA            U    000000       1   608
LOD1IZ              U    000024       1   619
LOD1LEN             U    000050       1   651
LOD1LENF            U    000002       1   572
LOD1MDLN            U    000246       2   585
LOD1OBJ             U    000001       1   571
LOD1REC             C    000240       4   568
LOD1RSRV            U    00027C       4   650
LOD1RSV2            X    000275       3   647
LOD1RTN             A    000278       4   648
LOD1S390            U    000008       1   602
LOD1TAPE            U    000008       1   574
LOD1Z               U    00000A       1   604
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    21

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

LODPARMS            C    000200      64   563
LOE1E370            U    000006       1   600
MCKLOG              F    000100       4   521
MCKNPSW             F    000070       8   444
MCKOPSW             F    000030       8   416  425
MEASUREB            X    0000B9       1   492
MESSAGE             C    0020E8      23   225  226  220
MKARCHMD            X    0000A3       1   480
MKARS               F    000120       4   519
MKCLKCMP            F    0000E0       8   505
MKCPUTIM            F    0000D8       8   504
MKCRS               F    0001C0       4   524
MKDMGCOD            F    0000F4       4   508
MKFAILA             F    0000F8       4   510
MKFPRS              D    000160       8   522
MKICODE             F    0000E8       4   506
MKLOGOUT            F    000100       4   512
MKMODEL             F    0000FC       4   511
MKXSAA              F    0000D4       4   503
MONCLS              H    000094       2   468
MONCODE             F    00009C       4   475
MONNUMBR            X    000095       1   470
MPGACCID            X    0000A2       1   478
MSSGLEN             U    000017       1   226  220
NKGRS               F    000180       4   523
NOOP                U    000000       1   235
PCFETO              A    0000C4       4   499
PERACCID            X    0000A1       1   477
PERADDR             F    000098       4   474
PERCODE             X    000096       1   471
PERCODMK            U    0000F0       1   472
PGMACCID            X    0000A0       1   476
PGMDXC              F    000090       4   466
PGMICODE            H    00008E       2   465
PGMIID              F    00008C       4   461
PGMIILC             X    00008D       1   463
PGMIILCM            U    00000C       1   464
PGMNPSW             F    000068       8   443
PGMOPSW             F    000028       8   415  423
PGMSECT             J    002000     255   130
PGMSTART            I    002000       2   133  122  134
PGMTRX              F    000090       4   467
PNDING              U    000005       1   245
QIOT                U    000002       1   239
RSTNPSW             F    000000       8   409
RSTOPSW             F    000008       8   410
SAVEAREA            F    002080       4   188  137
SCANOUT             X    000080       1   447  448
SCANOUTL            U    000000       1   448
SPB                 4    000000      16   256
SPBCCW0             U    000001       1   268
SPBCCW1             U    000002       1   269
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    22

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

SPBCCWF             X    000002       1   267
SPBCHST             X    000007       1   288
SPBDCLS             X    000004       1   281
SPBDEVST            X    000006       1   287
SPBE                U    000004       1   259  275  280  282  284  289  329
SPBEATN             U    000080       1   308
SPBEBY1             U    000080       1   298  308
SPBECTL             X    000002       1   297
SPBENRM             U    00000C       1   307
SPBEORB             F    000004       4   314  315
SPBEORB1            X    000009       1   320
SPBEORB2            X    00000B       1   322
SPBEORBC            X    00000C       4   323
SPBEORBK            X    000008       1   317
SPBEORBL            X    00000A       1   321
SPBEORBM            U    0000F0       1   318
SPBEORBP            X    00000D       3   325
SPBEORBR            U    00000F       1   319
SPBEORBT            F    000004       4   316
SPBEWCO             U    000008       1   304
SPBEWDC             U    00000C       1   303  307  204
SPBEWDO             U    000004       1   305
SPBEWNO             U    000000       1   306
SPBEWTM             U    00000C       1   301
SPBID               H    000000       2   257
SPBIOTA             F    000004       4   262
SPBPEND             X    000003       1   310
SPBPENDG            U    000001       1   311
SPBPENDN            U    000000       1   312
SPBSI               H    000002       2   258  266  296
SSARCHMD            X    0000A3       1   479
SSARS               F    000120       4   535
SSCLKCMP            F    0000E0       8   529
SSCPUTIM            F    0000D8       8   528
SSCRS               F    0001C0       4   538
SSFPRS              D    000160       8   536
SSGRS               F    000180       4   537
SSMODEL             F    00010C       4   533
SSPREFIX            F    000108       4   532
SSPSW               F    000100       8   531
SSXSAA              A    0000D4       4   527
STFLDATA            F    0000C8       4   500
SVCICODE            H    00008A       2   459
SVCIID              F    000088       4   455
SVCIILC             X    000089       1   457
SVCIILCM            U    00000C       1   458
SVCNPSW             F    000060       8   442
SVCOPSW             F    000020       8   414  421
TIMER               F    000050       4   438
TTDES               F    000054       4   439
UA0                 F    000010       8   411
UA1                 F    00004C       4   436
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    23

     SYMBOL        TYPE  VALUE   LENGTH  DEFN  REFERENCES

UA2                 F    0000A4       4   481
UA3                 F    0000B4       4   490
UA4                 X    0000B8       1   491
UA5                 X    0000CC       8   501
UA6                 X    0000EC       8   507
UA7                 F    000118       8   518
UA8                 X    000180      32   547
ZBRKADDR            A    000110       8   517
ZEMONCNT            F    00010C       4   516
ZEMONCTR            A    000100       8   514
ZEMONSIZ            F    000108       4   515
ZEXTNPSW            X    0001B0      16   550
ZEXTOPSW            X    000130      16   542
ZIONPSW             X    0001F0      16   554
ZIOOPSW             X    000170      16   546
ZMCKNPSW            X    0001E0      16   553
ZMCKOPSW            X    000160      16   545
ZMKFAILA            F    0000F8       8   509
ZMONCODE            F    0000B0       8   484
ZPGMNPSW            X    0001D0      16   552
ZPGMOPSW            X    000150      16   544
ZPGMTRX             F    0000A8       8   483
ZRSTNPSW            X    0001A0      16   549
ZRSTOPSW            X    000120      16   541
ZSASDISP            U    0011C0       1   555
ZSVCNPSW            X    0001C0      16   551
ZSVCOPSW            X    000140      16   543
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    24

 MACRO     DEFN  REFERENCES

ARCHIND      63
ARCHLVL      62
ASAIPL      119
ASALOAD     107
ASAREA      401
BLSASA      400
BLSCALL     138   155
BLSIOT      336
BLSORB      206
BLSPB       252
BLSTABLE    233
DWAIT       178   180
DWAITEND    177
LOD1        560
ORB         207
SAVEAREA    187
SERVEND     246
SERVID      234   236   238   240   242   244
TRAP64      109   112
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    25

   DESC     SYMBOL  SIZE    POS       ADDR

Entry: 0

Image      IMAGE     767  000-2FE  0000-02FE
  Region   ASAREGN   512  000-1FF  0000-01FF
    CSECT  ASASECT   512  000-1FF  0000-01FF
  Region   BOOTED5   255  200-2FE  2000-20FE
    CSECT  PGMSECT   255  200-2FE  2000-20FE


 ADDR    POS                                OBJECT CONTENT                                         CHARACTER CONTENT


Region: ASAREGN

000000   000   00080000 00002000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000020   020   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000040   040   00000000 00000000 00000000 00000000  00000000 00000000 000A0000 00000018   |................ ................|
000060   060   000A0000 00000020 000A0000 00000028  000A0000 00000030 000A0000 00000038   |................ ................|
000080   080   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0000A0   0A0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0000C0   0C0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0000E0   0E0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000100   100   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000120   120   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000140   140   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000160   160   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
000180   180   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0001A0   1A0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0001C0   1C0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0001E0   1E0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|

Region: BOOTED5

002000   200   18CF41D0 C0804110 C0C858F0 02700DEF  47FFC014 47F0C02C 00000004 47F0C068   |.........H.0.... .....0.......0..|
002020   220   47F0C058 00000010 00000014 D203C0D4  C0CC4110 C0D058F0 02700DEF 47FFC040   |.0..........K..M .......0....... |
002040   240   47F0C054 00000004 47F0C068 47F0C058  00000010 8200C070 9204C07F 8200C078   |.0.......0...0.. ....b...k.."b...|
002060   260   9208C07F 8200C078 920CC07F 8200C078  000A0000 00000000 000A0000 00051000   |k.."b...k.."b... ................|
002080   280   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0020A0   2A0   00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000   |................ ................|
0020C0   2C0   00000000 00000000 0003000F 70000000  00040C00 00000000 0000FF00 000020E0   |................ ................|
0020E0   2E0   090020E8 00000017 C8859393 9640C281  998560D4 85A38193 40E69699 93845A     |...Y....Hello Ba re-Metal World! |
ASMA Ver. 0.2.0  PGM5 - DSECTS AND EQUATES                                                          08 Sep 2020 06:07:27  Page    26

   STMT                           FILE NAME

1     /home/harold/SATKREPO/SATK/samples/guide/pgm5/s370/pgm5.asm


** NO ERRORS FOUND **

[102] MNOTE *,ARCHLVL - ARCHITECTURE LEVEL SET - 3
